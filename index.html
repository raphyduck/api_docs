<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta content="IE=edge,chrome=1" http-equiv="X-UA-Compatible">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <title>Bitfinex API Reference</title>

    <link href="stylesheets/screen.css" rel="stylesheet" type="text/css" media="screen" />
    <link href="stylesheets/print.css" rel="stylesheet" type="text/css" media="print" />
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>
      <script src="javascripts/all_nosearch.js" type="text/javascript"></script>

      <script>
        $(function() {
          setupLanguages(["javascript"]);
        });
      </script>
  </head>

  <body class="index">
    <a href="#" id="nav-button">
      <span>
        NAV
        <img src="images/navbar.png" />
      </span>
    </a>
    <div class="tocify-wrapper">
      <a href='https://bitfinex.com' title="Bitfinex"><img src="images/logo.png" /></a>
        <div class="lang-selector">
              <a href="#" data-language-name="javascript">javascript</a>
        </div>
      <div id="toc">
      </div>
        <ul class="toc-footer">
            <li><a href='https://bitfinex.com'><strong>Back to Bitfinex</strong></a></li>
        </ul>
    </div>
    <div class="page-wrapper">
      <div class="dark-box"></div>
      <div class="content">
        
          <h1 id="introduction">Introduction</h1>

<p>The Bitfinex API&rsquo;s are designed to allow access to all of the features of the Bitfinex platform. The end goal is to
allow people to potentially recreate the entire platform on their own.</p>

<h2 id="bitfinex-official-libraries">Bitfinex official libraries</h2>

<h3 id="node-js">Node.js</h3>

<ul>
<li>Node.js: <a href="https://github.com/bitfinexcom/bitfinex-api-node">https://github.com/bitfinexcom/bitfinex-api-node</a></li>
</ul>

<h3 id="ruby">Ruby</h3>

<ul>
<li>ruby: <a href="https://github.com/bitfinexcom/bitfinex-api-rb">https://github.com/bitfinexcom/bitfinex-api-rb</a></li>
</ul>

<h2 id="api-access">API Access</h2>

<p>In order to access the parts of the API which require authentication, you must generate an API key and an API secret
using <a href="https://www.bitfinex.com/account/api">this page</a></p>

<p>You can generate as many API keys as you would like, and each of those keys can be customized in a few ways.</p>

<h3 id="standard-api-key">Standard API Key</h3>

<ul>
<li>The standard API key can be used for all general account activities with two exceptions.</li>
</ul>

<h3 id="read-only-key">Read-only Key</h3>

<ul>
<li>This type of API key can be used to allow passive monitoring of an account. It is not able to make any changes to the
account, or update any data.</li>
</ul>

<h3 id="withdrawal-enabled-key">Withdrawal enabled key</h3>

<ul>
<li>Provides, in addition to the standard key&rsquo;s privileges, the ability to move funds between 
wallets or to withdraw funds from your account.</li>
</ul>

<aside class="notice">
You cannot create an API key that is both enabled for withdrawal AND Read-only.
</aside>

          <h1 id="rest">REST</h1>

<h2 id="general">General</h2>

<h3 id="url">URL</h3>
<pre class="highlight javascript"><code><span class="kd">var</span> <span class="nx">url</span> <span class="o">=</span> <span class="s2">"https://api.bitfinex.com/v1"</span>
</code></pre>

<p><code class="prettyprint">https://api.bitfinex.com/v1</code></p>

<h3 id="authentication">Authentication</h3>
<pre class="highlight javascript"><code><span class="kd">var</span> <span class="nx">payload</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s2">"request"</span><span class="p">:</span> <span class="s2">"/v1/account_infos"</span><span class="p">,</span>
  <span class="s2">"nonce"</span><span class="p">:</span> <span class="nb">Date</span><span class="p">.</span><span class="nx">now</span><span class="p">().</span><span class="nx">toString</span><span class="p">()</span>
<span class="p">};</span>
</code></pre>

<p>Authentication is done using an API key and a secret. To generate this pair,
go to the <a href="https://www.bitfinex.com/account/api">API Access</a> page.
As an example of how to authenticate, we can look at the &ldquo;account_infos&rdquo; endpoint.
Take the example payload to the right.</p>

<aside class="warning">
The nonce provided must be strictly increasing.
</aside>
<pre class="highlight javascript"><code><span class="c1">//Using the "request" library, available via npm.</span>
<span class="c1">//From the console, run npm install request</span>
<span class="kd">var</span>
  <span class="nx">request</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'request'</span><span class="p">),</span>
  <span class="nx">api_key</span> <span class="o">=</span> <span class="s2">"&lt;Your API key here&gt;"</span><span class="p">,</span>
  <span class="nx">api_secret</span> <span class="o">=</span> <span class="s2">"&lt;Your API secret here&gt;"</span><span class="p">;</span>
<span class="nx">payload</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Buffer</span><span class="p">(</span><span class="nx">JSON</span><span class="p">.</span><span class="nx">stringify</span><span class="p">(</span><span class="nx">payload</span><span class="p">))</span>
  <span class="p">.</span><span class="nx">toString</span><span class="p">(</span><span class="s1">'base64'</span><span class="p">);</span>
<span class="kd">var</span>
  <span class="nx">signature</span> <span class="o">=</span> <span class="nx">crypto</span>
  <span class="p">.</span><span class="nx">createHmac</span><span class="p">(</span><span class="s2">"sha384"</span><span class="p">,</span> <span class="nx">api_secret</span><span class="p">)</span>
  <span class="p">.</span><span class="nx">update</span><span class="p">(</span><span class="nx">payload</span><span class="p">)</span>
  <span class="p">.</span><span class="nx">digest</span><span class="p">(</span><span class="s1">'hex'</span><span class="p">),</span>
  <span class="nx">headers</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s1">'X-BFX-APIKEY'</span><span class="p">:</span> <span class="nx">api_key</span><span class="p">,</span>
    <span class="s1">'X-BFX-PAYLOAD'</span><span class="p">:</span> <span class="nx">payload</span><span class="p">,</span>
    <span class="s1">'X-BFX-SIGNATURE'</span><span class="p">:</span> <span class="nx">signature</span>
  <span class="p">},</span>
  <span class="nx">options</span> <span class="o">=</span> <span class="p">{</span>
    <span class="na">url</span><span class="p">:</span> <span class="nx">url</span> <span class="o">+</span> <span class="s1">'/account_infos'</span><span class="p">,</span>
    <span class="na">headers</span><span class="p">:</span> <span class="nx">headers</span><span class="p">,</span>
    <span class="na">body</span><span class="p">:</span> <span class="nx">payload</span>
  <span class="p">};</span>
<span class="nx">request</span><span class="p">.</span><span class="nx">post</span><span class="p">(</span><span class="nx">options</span><span class="p">,</span>
  <span class="kd">function</span><span class="p">(</span><span class="nx">error</span><span class="p">,</span> <span class="nx">response</span><span class="p">,</span> <span class="nx">body</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">body</span><span class="p">);</span>
<span class="p">});</span>
</code></pre>

<p>The authentications procedures is as follows:</p>

<ul>
<li>The payload is the parameters object, first JSON encoded, and then encoded into Base64</li>
</ul>

<p><code class="prettyprint">payload = parameters-object -&gt; JSON encode -&gt; base64</code></p>

<ul>
<li>The signature is the hex digest of an HMAC-SHA384 hash where the message is your payload, and the secret key is your API secret.</li>
</ul>

<p><code class="prettyprint">signature = HMAC-SHA384(payload, api-secret).digest(&#39;hex&#39;)</code></p>

<p><code class="prettyprint">send (api-key, payload, signature)</code></p>

<p>These are encoded as HTTP headers named:</p>

<ul>
<li>X-BFX-APIKEY</li>
<li>X-BFX-PAYLOAD</li>
<li>X-BFX-SIGNATURE</li>
</ul>

<h3 id="parameters">Parameters</h3>

<p>Requests parameters for POST requests (authenticated) (presented below in the &ldquo;Request&rdquo; sections)
are part of the PAYLOAD, not GET parameters.</p>

<p>Requests parameters for GET requests (non-authenticated) are GET parameters,
appended to the URL being called as follows:</p>

<p><code class="prettyprint">/v1/call/?parameter=value</code></p>

<h2 id="public-endpoints">Public Endpoints</h2>
<pre class="highlight javascript"><code><span class="c1">// All examples assume the following:</span>
<span class="c1">// 1. You already have the request object available</span>
<span class="c1">// 2. You have the url variable</span>
<span class="c1">// 3. Will use BTCUSD as the default symbol</span>
<span class="kd">var</span> <span class="nx">request</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'request'</span><span class="p">)</span>
<span class="kd">var</span> <span class="nx">url</span> <span class="o">=</span> <span class="s2">"https://api.bitfinex.com/v1"</span>
</code></pre>

<aside class="notice">
All Public Endpoints use GET requests
</aside>

<h3 id="ticker">Ticker</h3>

<blockquote>
<p><strong>Request</strong></p>
</blockquote>
<pre class="highlight javascript"><code><span class="nx">request</span><span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="nx">url</span> <span class="o">+</span> <span class="s2">"/pubticker/:symbol"</span><span class="p">,</span>
  <span class="kd">function</span><span class="p">(</span><span class="nx">error</span><span class="p">,</span> <span class="nx">response</span><span class="p">,</span> <span class="nx">body</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">body</span><span class="p">);</span>
<span class="p">});</span>
</code></pre>

<blockquote>
<p><strong>Response</strong></p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"mid"</span><span class="p">:</span><span class="s2">"244.755"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"bid"</span><span class="p">:</span><span class="s2">"244.75"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"ask"</span><span class="p">:</span><span class="s2">"244.76"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"last_price"</span><span class="p">:</span><span class="s2">"244.82"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"low"</span><span class="p">:</span><span class="s2">"244.2"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"high"</span><span class="p">:</span><span class="s2">"248.19"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"volume"</span><span class="p">:</span><span class="s2">"7842.11542563"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"timestamp"</span><span class="p">:</span><span class="s2">"1444253422.348340958"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p><strong>Endpoint</strong></p>

<p><code class="prettyprint">/pubticker/:symbol</code></p>

<p><strong>Description</strong></p>

<p>Gives innermost bid and asks and information on the most recent trade,
as well as high, low and volume of the last 24 hours.</p>

<p><strong>Response Details</strong></p>

<table><thead>
<tr>
<th>Key</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>mid</td>
<td>[price]</td>
<td>(bid + ask) / 2</td>
</tr>
<tr>
<td>bid</td>
<td>[price]</td>
<td>Innermost bid.</td>
</tr>
<tr>
<td>ask</td>
<td>[price]</td>
<td>Innermost ask.</td>
</tr>
<tr>
<td>last_price</td>
<td>[price]</td>
<td>The price at which the last order executed.</td>
</tr>
<tr>
<td>low</td>
<td>[price]</td>
<td>Lowest trade price of the last 24 hours</td>
</tr>
<tr>
<td>high</td>
<td>[price]</td>
<td>Highest trade price of the last 24 hours</td>
</tr>
<tr>
<td>volume</td>
<td>[price]</td>
<td>Trading volume of the last 24 hours</td>
</tr>
<tr>
<td>timestamp</td>
<td>[time]</td>
<td>The timestamp at which this information was valid.</td>
</tr>
</tbody></table>

<h3 id="stats">Stats</h3>

<blockquote>
<p><strong>Request</strong></p>
</blockquote>
<pre class="highlight javascript"><code><span class="nx">request</span><span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="nx">url</span> <span class="o">+</span> <span class="s2">"/stats/BTCUSD"</span><span class="p">,</span>
  <span class="kd">function</span><span class="p">(</span><span class="nx">error</span><span class="p">,</span> <span class="nx">response</span><span class="p">,</span> <span class="nx">body</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">body</span><span class="p">);</span>
<span class="p">});</span>
</code></pre>

<blockquote>
<p><strong>Response</strong></p>
</blockquote>
<pre class="highlight json"><code><span class="p">[{</span><span class="w">
  </span><span class="nt">"period"</span><span class="p">:</span><span class="mi">1</span><span class="p">,</span><span class="w">
  </span><span class="nt">"volume"</span><span class="p">:</span><span class="s2">"7967.96766158"</span><span class="w">
</span><span class="p">},{</span><span class="w">
  </span><span class="nt">"period"</span><span class="p">:</span><span class="mi">7</span><span class="p">,</span><span class="w">
  </span><span class="nt">"volume"</span><span class="p">:</span><span class="s2">"55938.67260266"</span><span class="w">
</span><span class="p">},{</span><span class="w">
  </span><span class="nt">"period"</span><span class="p">:</span><span class="mi">30</span><span class="p">,</span><span class="w">
  </span><span class="nt">"volume"</span><span class="p">:</span><span class="s2">"275148.09653645"</span><span class="w">
</span><span class="p">}]</span><span class="w">
</span></code></pre>

<p><strong>Endpoint</strong></p>

<p><code class="prettyprint">/stats/:symbol</code></p>

<p><strong>Description</strong></p>

<p>Various statistics about the requested pair.</p>

<p><strong>Response Details</strong>
An array of the following:</p>

<table><thead>
<tr>
<th>Key</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>period</td>
<td>[integer]</td>
<td>period covered in days</td>
</tr>
<tr>
<td>volume</td>
<td>[price]</td>
<td>volume</td>
</tr>
</tbody></table>

<h3 id="fundingbook">Fundingbook</h3>

<blockquote>
<p><strong>Request</strong></p>
</blockquote>
<pre class="highlight javascript"><code><span class="kd">var</span> <span class="nx">payload</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s2">"limit_bids"</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
  <span class="s2">"limit_asks"</span><span class="p">:</span> <span class="mi">1</span>
<span class="p">};</span>
<span class="kd">var</span> <span class="nx">options</span> <span class="o">=</span> <span class="p">{</span>
  <span class="na">url</span><span class="p">:</span> <span class="nx">url</span> <span class="o">+</span> <span class="s1">'/lendbook/USD'</span><span class="p">,</span>
  <span class="na">qs</span><span class="p">:</span> <span class="nx">payload</span>
<span class="p">};</span>
<span class="nx">request</span><span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="nx">options</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span><span class="nx">error</span><span class="p">,</span> <span class="nx">response</span><span class="p">,</span> <span class="nx">body</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">body</span><span class="p">);</span>
<span class="p">});</span>
</code></pre>

<blockquote>
<p><strong>Response</strong></p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"bids"</span><span class="p">:[{</span><span class="w">
    </span><span class="nt">"rate"</span><span class="p">:</span><span class="s2">"9.1287"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"amount"</span><span class="p">:</span><span class="s2">"5000.0"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"period"</span><span class="p">:</span><span class="mi">30</span><span class="p">,</span><span class="w">
    </span><span class="nt">"timestamp"</span><span class="p">:</span><span class="s2">"1444257541.0"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"frr"</span><span class="p">:</span><span class="s2">"No"</span><span class="w">
  </span><span class="p">}],</span><span class="w">
  </span><span class="nt">"asks"</span><span class="p">:[{</span><span class="w">
    </span><span class="nt">"rate"</span><span class="p">:</span><span class="s2">"8.3695"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"amount"</span><span class="p">:</span><span class="s2">"407.5"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"period"</span><span class="p">:</span><span class="mi">2</span><span class="p">,</span><span class="w">
    </span><span class="nt">"timestamp"</span><span class="p">:</span><span class="s2">"1444260343.0"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"frr"</span><span class="p">:</span><span class="s2">"No"</span><span class="w">
  </span><span class="p">}]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p><strong>Endpoint</strong></p>

<p><code class="prettyprint">/lendbook/:currency</code></p>

<p><strong>Description</strong></p>

<p>Get the full margin funding book</p>

<p><strong>Request Details</strong>
<table class="striped">
          <thead>
            <tr>
              <th class="sortable">Key<i class="fa fa-sort-down"></i><i class="fa fa-sort-up"></i></th>
              <th class="sortable">Required<i class="fa fa-sort-down"></i><i class="fa fa-sort-up"></i></th>
              <th class="sortable">Type<i class="fa fa-sort-down"></i><i class="fa fa-sort-up"></i></th>
              <th class="sortable">Default<i class="fa fa-sort-down"></i><i class="fa fa-sort-up"></i></th>
              <th class="sortable">Description<i class="fa fa-sort-down"></i><i class="fa fa-sort-up"></i></th>
            </tr>
          </thead>
          <tbody></p>

<p><tr>
            <td><strong>limit_bids</strong></td>
            <td>false</td>
            <td>[int]</td>
            <td>50</td>
            <td>Limit the number of funding bids returned. May be 0 in which case the array of bids is empty.</td>
          </tr>
          <tr>
            <td><strong>limit_asks</strong></td>
            <td>false</td>
            <td>[int]</td>
            <td>50</td>
            <td>Limit the number of funding offers returned. May be 0 in which case the array of asks is empty.</td>
          </tr></p>

<p></tbody>
          </table></p>

<p><strong>Response Details</strong>
<table class>
          <thead>
            <tr>
              <th class="sortable">Key<i class="fa fa-sort-down"></i><i class="fa fa-sort-up"></i></th>
              <th class="sortable">Type<i class="fa fa-sort-down"></i><i class="fa fa-sort-up"></i></th>
              <th class="sortable">Description<i class="fa fa-sort-down"></i><i class="fa fa-sort-up"></i></th>
            </tr>
          </thead>
          <tbody></p>

<p><tr>
            <td><strong>bids</strong></td>
            <td>[array of funding bids]</td>
            <td></td>
          </tr>
          <tr>
            <td><strong>rate</strong></td>
            <td>[rate in % per 365 days]</td>
            <td></td>
          </tr>
          <tr>
            <td><strong>amount</strong></td>
            <td>[decimal]</td>
            <td></td>
          </tr>
          <tr>
            <td><strong>period</strong></td>
            <td>[days]</td>
            <td>minimum period for the margin funding contract</td>
          </tr>
          <tr>
            <td><strong>timestamp</strong></td>
            <td>[time]</td>
            <td></td>
          </tr>
          <tr>
            <td><strong>frr</strong></td>
            <td>[yes/no]</td>
            <td>&ldquo;Yes&rdquo; if the offer is at Flash Return Rate, &ldquo;No&rdquo; if the offer is at fixed rate</td>
          </tr>
          <tr>
            <td><strong>asks</strong></td>
            <td>[array of funding offers]</td>
            <td></td>
          </tr>
          <tr>
            <td><strong>rate</strong></td>
            <td>[rate in % per 365 days]</td>
            <td></td>
          </tr>
          <tr>
            <td><strong>amount</strong></td>
            <td>[decimal]</td>
            <td></td>
          </tr>
          <tr>
            <td><strong>period</strong></td>
            <td>[days]</td>
            <td>maximum period for the funding contract</td>
          </tr>
          <tr>
            <td><strong>timestamp</strong></td>
            <td>[time]</td>
            <td></td>
          </tr>
          <tr>
            <td><strong>frr</strong></td>
            <td>[yes/no]</td>
            <td>&ldquo;Yes&rdquo; if the offer is at Flash Return Rate, &ldquo;No&rdquo; if the offer is at fixed rate</td>
          </tr>
          </tbody>
          </table></p>

<h3 id="orderbook">Orderbook</h3>

<blockquote>
<p><strong>Request</strong></p>
</blockquote>
<pre class="highlight javascript"><code><span class="kd">var</span> <span class="nx">payload</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s2">"limit_bids"</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
  <span class="s2">"limit_asks"</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
  <span class="s2">"group"</span><span class="p">:</span> <span class="mi">0</span>
<span class="p">};</span>
<span class="kd">var</span> <span class="nx">options</span> <span class="o">=</span> <span class="p">{</span>
  <span class="na">url</span><span class="p">:</span> <span class="nx">url</span> <span class="o">+</span> <span class="s1">'/book/BTCUSD'</span><span class="p">,</span>
  <span class="na">qs</span><span class="p">:</span> <span class="nx">payload</span>
<span class="p">};</span>
<span class="nx">request</span><span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="nx">options</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span><span class="nx">error</span><span class="p">,</span> <span class="nx">response</span><span class="p">,</span> <span class="nx">body</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">body</span><span class="p">);</span>
<span class="p">});</span>
</code></pre>

<blockquote>
<p><strong>Response</strong></p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"bids"</span><span class="p">:[{</span><span class="w">
    </span><span class="nt">"rate"</span><span class="p">:</span><span class="s2">"9.1287"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"amount"</span><span class="p">:</span><span class="s2">"5000.0"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"period"</span><span class="p">:</span><span class="mi">30</span><span class="p">,</span><span class="w">
    </span><span class="nt">"timestamp"</span><span class="p">:</span><span class="s2">"1444257541.0"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"frr"</span><span class="p">:</span><span class="s2">"No"</span><span class="w">
  </span><span class="p">}],</span><span class="w">
  </span><span class="nt">"asks"</span><span class="p">:[{</span><span class="w">
    </span><span class="nt">"rate"</span><span class="p">:</span><span class="s2">"8.3695"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"amount"</span><span class="p">:</span><span class="s2">"407.5"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"period"</span><span class="p">:</span><span class="mi">2</span><span class="p">,</span><span class="w">
    </span><span class="nt">"timestamp"</span><span class="p">:</span><span class="s2">"1444260343.0"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"frr"</span><span class="p">:</span><span class="s2">"No"</span><span class="w">
  </span><span class="p">}]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p><strong>Endpoint</strong></p>

<p><code class="prettyprint">/book/:symbol</code></p>

<p><strong>Description</strong></p>

<p>Get the full order book.</p>

<p><strong>Request Details</strong></p>

<table class="striped">
          <thead>
            <tr>
              <th class="sortable">Key<i class="fa fa-sort-down"></i><i class="fa fa-sort-up"></i></th>
              <th class="sortable">Required<i class="fa fa-sort-down"></i><i class="fa fa-sort-up"></i></th>
              <th class="sortable">Type<i class="fa fa-sort-down"></i><i class="fa fa-sort-up"></i></th>
              <th class="sortable">Default<i class="fa fa-sort-down"></i><i class="fa fa-sort-up"></i></th>
              <th class="sortable">Description<i class="fa fa-sort-down"></i><i class="fa fa-sort-up"></i></th>
            </tr>
          </thead>
          <tbody>

          <tr>
            <td><strong>limit_bids</strong></td>
            <td>false</td>
            <td>[int]</td>
            <td>50</td>
            <td>Limit the number of bids returned. May be 0 in which case the array of bids is empty.</td>
          </tr>
          <tr>
            <td><strong>limit_asks</strong></td>
            <td>false</td>
            <td>[int]</td>
            <td>50</td>
            <td>Limit the number of asks returned. May be 0 in which case the array of asks is empty.</td>
          </tr>
          <tr>
            <td><strong>group</strong></td>
            <td>false</td>
            <td>[0/1]</td>
            <td>1</td>
            <td>If 1, orders are grouped by price in the orderbook. If 0, orders are not grouped and sorted individually</td>
          </tr>

          </tbody>
          </table>

<p><strong>Response Details</strong></p>

<table class="striped">
          <thead>
            <tr>
              <th class="sortable">Key<i class="fa fa-sort-down"></i><i class="fa fa-sort-up"></i></th>
              <th class="sortable">Type<i class="fa fa-sort-down"></i><i class="fa fa-sort-up"></i></th>
            </tr>
          </thead>
          <tbody>
          <tr>
            <td><strong>bids</strong></td>
            <td>[array]</td>
          </tr>
          <tr>
            <td><strong>price</strong></td>
            <td>[price]</td>
          </tr>
          <tr>
            <td><strong>amount</strong></td>
            <td>[decimal]</td>
          </tr>
          <tr>
            <td><strong>timestamp</strong></td>
            <td>[time]</td>
          </tr>
          <tr>
            <td><strong>asks</strong></td>
            <td>[array]</td>
          </tr>
          <tr>
            <td><strong>price</strong></td>
            <td>[price]</td>
          </tr>
          <tr>
            <td><strong>amount</strong></td>
            <td>[decimal]</td>
          </tr>
          <tr>
            <td><strong>timestamp</strong></td>
            <td>[time]</td>
          </tr>
          </tbody>
          </table>

<h3 id="trades">Trades</h3>

<blockquote>
<p><strong>Request</strong></p>
</blockquote>
<pre class="highlight javascript"><code><span class="kd">var</span> <span class="nx">payload</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s2">"timestamp"</span><span class="p">:</span> <span class="kc">false</span><span class="p">,</span>
  <span class="s2">"limit_trades"</span><span class="p">:</span> <span class="mi">1</span>
<span class="p">};</span>
<span class="kd">var</span> <span class="nx">options</span> <span class="o">=</span> <span class="p">{</span>
  <span class="na">url</span><span class="p">:</span> <span class="nx">url</span> <span class="o">+</span> <span class="s1">'/trades/BTCUSD'</span><span class="p">,</span>
  <span class="na">qs</span><span class="p">:</span> <span class="nx">payload</span>
<span class="p">};</span>
<span class="nx">request</span><span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="nx">options</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span><span class="nx">error</span><span class="p">,</span> <span class="nx">response</span><span class="p">,</span> <span class="nx">body</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">body</span><span class="p">);</span>
<span class="p">});</span>
</code></pre>

<blockquote>
<p><strong>Response</strong></p>
</blockquote>
<pre class="highlight json"><code><span class="p">[{</span><span class="w">
  </span><span class="nt">"timestamp"</span><span class="p">:</span><span class="mi">1444266681</span><span class="p">,</span><span class="w">
  </span><span class="nt">"tid"</span><span class="p">:</span><span class="mi">11988919</span><span class="p">,</span><span class="w">
  </span><span class="nt">"price"</span><span class="p">:</span><span class="s2">"244.8"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"amount"</span><span class="p">:</span><span class="s2">"0.03297384"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"exchange"</span><span class="p">:</span><span class="s2">"bitfinex"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"type"</span><span class="p">:</span><span class="s2">"sell"</span><span class="w">
</span><span class="p">}]</span><span class="w">
</span></code></pre>

<p><strong>Endpoint</strong></p>

<p><code class="prettyprint">/trades/:symbol</code></p>

<p><strong>Description</strong></p>

<p>Get a list of the most recent trades for the given symbol.</p>

<p><strong>Request Details</strong></p>

<table class="striped">
          <thead>
            <tr>
              <th class="sortable">Key<i class="fa fa-sort-down"></i><i class="fa fa-sort-up"></i></th>
              <th class="sortable">Required<i class="fa fa-sort-down"></i><i class="fa fa-sort-up"></i></th>
              <th class="sortable">Type<i class="fa fa-sort-down"></i><i class="fa fa-sort-up"></i></th>
              <th class="sortable">Default<i class="fa fa-sort-down"></i><i class="fa fa-sort-up"></i></th>
              <th class="sortable">Description<i class="fa fa-sort-down"></i><i class="fa fa-sort-up"></i></th>
            </tr>
          </thead>
          <tbody>

          <tr>
            <td><strong>timestamp</strong></td>
            <td>false</td>
            <td>[time]</td>
            <td></td>
            <td>Only show trades at or after this timestamp.</td>
          </tr>
          <tr>
            <td><strong>limit_trades</strong></td>
            <td>false</td>
            <td>[int]</td>
            <td>50</td>
            <td>Limit the number of trades returned. Must be &gt;= 1.</td>
          </tr>

          </tbody>
          </table>

<p><strong>Response Details</strong></p>

<table class="striped">
          <thead>
            <tr>
              <th class="sortable">Key<i class="fa fa-sort-down"></i><i class="fa fa-sort-up"></i></th>
              <th class="sortable">Type<i class="fa fa-sort-down"></i><i class="fa fa-sort-up"></i></th>
              <th class="sortable">Description<i class="fa fa-sort-down"></i><i class="fa fa-sort-up"></i></th>
            </tr>
          </thead>
          <tbody>

          <tr>
            <td><strong>tid</strong></td>
            <td>[integer]</td>
            <td></td>
          </tr>
          <tr>
            <td><strong>timestamp</strong></td>
            <td>[time]</td>
            <td></td>
          </tr>
          <tr>
            <td><strong>price</strong></td>
            <td>[price]</td>
            <td></td>
          </tr>
          <tr>
            <td><strong>amount</strong></td>
            <td>[decimal]</td>
            <td></td>
          </tr>
          <tr>
            <td><strong>exchange</strong></td>
            <td>[string]</td>
            <td></td>
          </tr>
          <tr>
            <td><strong>type</strong></td>
            <td>[string]</td>
            <td>&ldquo;sell&rdquo; or &ldquo;buy&rdquo; (can be &ldquo;&rdquo; if undetermined)</td>
          </tr>
          </tbody>
          </table>

<h3 id="lends">Lends</h3>

<blockquote>
<p><strong>Request</strong></p>
</blockquote>
<pre class="highlight javascript"><code><span class="kd">var</span> <span class="nx">payload</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s2">"timestamp"</span><span class="p">:</span> <span class="kc">false</span><span class="p">,</span>
  <span class="s2">"limit_lends"</span><span class="p">:</span> <span class="mi">1</span>
<span class="p">},</span>
<span class="nx">options</span> <span class="o">=</span> <span class="p">{</span>
  <span class="na">url</span><span class="p">:</span> <span class="nx">url</span> <span class="o">+</span> <span class="s1">'/lends/USD'</span><span class="p">,</span>
  <span class="na">qs</span><span class="p">:</span> <span class="nx">payload</span>
<span class="p">};</span>
<span class="nx">request</span><span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="nx">options</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span><span class="nx">error</span><span class="p">,</span> <span class="nx">response</span><span class="p">,</span> <span class="nx">body</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">body</span><span class="p">);</span>
<span class="p">});</span>
</code></pre>

<blockquote>
<p><strong>Response</strong></p>
</blockquote>
<pre class="highlight json"><code><span class="p">[{</span><span class="w">
  </span><span class="nt">"rate"</span><span class="p">:</span><span class="s2">"9.8998"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"amount_lent"</span><span class="p">:</span><span class="s2">"22528933.77950878"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"amount_used"</span><span class="p">:</span><span class="s2">"0.0"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"timestamp"</span><span class="p">:</span><span class="mi">1444264307</span><span class="w">
</span><span class="p">}]</span><span class="w">
</span></code></pre>

<p><strong>Endpoint</strong></p>

<p>/lends/:currency</p>

<p><strong>Description</strong></p>

<p>Get a list of the most recent funding data for the given currency: total amount lent and Flash Return Rate (in % by 365 days) over time.</p>

<p><strong>Request Details</strong></p>

<table class="striped">
          <thead>
            <tr>
              <th class="sortable">Key<i class="fa fa-sort-down"></i><i class="fa fa-sort-up"></i></th>
              <th class="sortable">Required<i class="fa fa-sort-down"></i><i class="fa fa-sort-up"></i></th>
              <th class="sortable">Type<i class="fa fa-sort-down"></i><i class="fa fa-sort-up"></i></th>
              <th class="sortable">Default<i class="fa fa-sort-down"></i><i class="fa fa-sort-up"></i></th>
              <th class="sortable">Description<i class="fa fa-sort-down"></i><i class="fa fa-sort-up"></i></th>
            </tr>
          </thead>
          <tbody>

          <tr>
            <td><strong>timestamp</strong></td>
            <td>false</td>
            <td>[time]</td>
            <td></td>
            <td>Only show data at or after this timestamp.</td>
          </tr>
          <tr>
            <td><strong>limit_lends</strong></td>
            <td>false</td>
            <td>[int]</td>
            <td>50</td>
            <td>Limit the amount of funding data returned. Must be &gt;= 1</td>
          </tr>

          </tbody>
          </table>

<p>*<em>Response Details</em></p>

<table class="striped">
          <thead>
            <tr>
              <th class="sortable">Key<i class="fa fa-sort-down"></i><i class="fa fa-sort-up"></i></th>
              <th class="sortable">Type<i class="fa fa-sort-down"></i><i class="fa fa-sort-up"></i></th>
              <th class="sortable">Description<i class="fa fa-sort-down"></i><i class="fa fa-sort-up"></i></th>
            </tr>
          </thead>
          <tbody>

          <tr>
            <td><strong>rate</strong></td>
            <td>[decimal, % by 365 days]</td>
            <td>Average rate of total funding received at fixed rates, ie past Flash Return Rate annualized</td>
          </tr>
          <tr>
            <td><strong>amount_lent</strong></td>
            <td>[decimal]</td>
            <td>Total amount of open margin funding in the given currency</td>
          </tr>
          <tr>
            <td><strong>amount_used</strong></td>
            <td>[decimal]</td>
            <td>Total amount of open margin funding used in a margin position in the given currency</td>
          </tr>
          <tr>
            <td><strong>timestamp</strong></td>
            <td>[time]</td>
            <td></td>
          </tr>
          </tbody>
          </table>

<h3 id="symbols">Symbols</h3>

<blockquote>
<p><strong>Request</strong></p>
</blockquote>
<pre class="highlight javascript"><code><span class="kd">var</span> <span class="nx">options</span> <span class="o">=</span> <span class="p">{</span>
  <span class="na">url</span><span class="p">:</span> <span class="nx">url</span> <span class="o">+</span> <span class="s1">'/symbols'</span><span class="p">,</span>
  <span class="na">qs</span><span class="p">:</span> <span class="p">{}</span>
<span class="p">};</span>
<span class="nx">request</span><span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="nx">options</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span><span class="nx">error</span><span class="p">,</span> <span class="nx">response</span><span class="p">,</span> <span class="nx">body</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">body</span><span class="p">);</span>
<span class="p">});</span>
</code></pre>

<blockquote>
<p><strong>Response</strong></p>
</blockquote>
<pre class="highlight json"><code><span class="p">[</span><span class="s2">"btcusd"</span><span class="p">,</span><span class="s2">"ltcusd"</span><span class="p">,</span><span class="s2">"ltcbtc"</span><span class="p">]</span><span class="w">
</span></code></pre>

<p><strong>Endpoint</strong></p>

<p><code class="prettyprint">/symbols</code></p>

<p><strong>Description</strong></p>

<p>Get a list of valid symbol IDs.</p>

<p><strong>Response Details</strong></p>

<p>A list of symbol names. Currently &ldquo;btcusd&rdquo;, &ldquo;ltcusd&rdquo;, &ldquo;ltcbtc&rdquo;</p>

<h3 id="symbol-details">Symbol Details</h3>

<blockquote>
<p><strong>Request</strong></p>
</blockquote>
<pre class="highlight javascript"><code><span class="kd">var</span> <span class="nx">options</span> <span class="o">=</span> <span class="p">{</span>
  <span class="na">url</span><span class="p">:</span> <span class="nx">url</span> <span class="o">+</span> <span class="s1">'/symbols_details'</span><span class="p">,</span>
  <span class="na">qs</span><span class="p">:</span> <span class="p">{}</span>
<span class="p">};</span>
<span class="nx">request</span><span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="nx">options</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span><span class="nx">error</span><span class="p">,</span> <span class="nx">response</span><span class="p">,</span> <span class="nx">body</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">body</span><span class="p">);</span>
<span class="p">});</span>
</code></pre>

<blockquote>
<p><strong>Response</strong></p>
</blockquote>
<pre class="highlight json"><code><span class="p">[{</span><span class="w">
  </span><span class="nt">"pair"</span><span class="p">:</span><span class="s2">"btcusd"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"price_precision"</span><span class="p">:</span><span class="mi">5</span><span class="p">,</span><span class="w">
  </span><span class="nt">"initial_margin"</span><span class="p">:</span><span class="s2">"30.0"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"minimum_margin"</span><span class="p">:</span><span class="s2">"15.0"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"maximum_order_size"</span><span class="p">:</span><span class="s2">"2000.0"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"minimum_order_size"</span><span class="p">:</span><span class="s2">"0.01"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"expiration"</span><span class="p">:</span><span class="s2">"NA"</span><span class="w">
</span><span class="p">},{</span><span class="w">
  </span><span class="nt">"pair"</span><span class="p">:</span><span class="s2">"ltcusd"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"price_precision"</span><span class="p">:</span><span class="mi">5</span><span class="p">,</span><span class="w">
  </span><span class="nt">"initial_margin"</span><span class="p">:</span><span class="s2">"30.0"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"minimum_margin"</span><span class="p">:</span><span class="s2">"15.0"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"maximum_order_size"</span><span class="p">:</span><span class="s2">"5000.0"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"minimum_order_size"</span><span class="p">:</span><span class="s2">"0.1"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"expiration"</span><span class="p">:</span><span class="s2">"NA"</span><span class="w">
</span><span class="p">},{</span><span class="w">
  </span><span class="nt">"pair"</span><span class="p">:</span><span class="s2">"ltcbtc"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"price_precision"</span><span class="p">:</span><span class="mi">5</span><span class="p">,</span><span class="w">
  </span><span class="nt">"initial_margin"</span><span class="p">:</span><span class="s2">"30.0"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"minimum_margin"</span><span class="p">:</span><span class="s2">"15.0"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"maximum_order_size"</span><span class="p">:</span><span class="s2">"5000.0"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"minimum_order_size"</span><span class="p">:</span><span class="s2">"0.1"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"expiration"</span><span class="p">:</span><span class="s2">"NA"</span><span class="w">
</span><span class="p">}]</span><span class="w">
</span></code></pre>

<p><strong>Endpoint</strong></p>

<p>/symbols_details</p>

<p><strong>Description</strong></p>

<p>Get a list of valid symbol IDs and the pair details.</p>

<p><strong>Response Details</strong></p>

<table class="striped">
            <thead>
              <tr>
                <th class="sortable">Key<i class="fa fa-sort-down"></i><i class="fa fa-sort-up"></i></th>
                <th class="sortable">Type<i class="fa fa-sort-down"></i><i class="fa fa-sort-up"></i></th>
                <th class="sortable">Description<i class="fa fa-sort-down"></i><i class="fa fa-sort-up"></i></th>
              </tr>
            </thead>
            <tbody>

            <tr>
              <td><strong>pair</strong></td>
              <td>[string]</td>
              <td>the pair code</td>
            </tr>
            <tr>
              <td><strong>price_precision</strong></td>
              <td>[integer]</td>
              <td>Maximum number of significant digits for price in this pair</td>
            </tr>
            <tr>
              <td><strong>initial_margin</strong></td>
              <td>[decimal]</td>
              <td>Initial margin required to open a position in this pair</td>
            </tr>
            <tr>
              <td><strong>minimum_margin</strong></td>
              <td>[decimal]</td>
              <td>Minimal margin to maintain (in %)</td>
            </tr>
            <tr>
              <td><strong>maximum_order_size</strong></td>
              <td>[decimal]</td>
              <td>Maximum order size of the pair</td>
            </tr>
            <tr>
              <td><strong>expiration</strong></td>
              <td>[string]</td>
              <td>Expiration date for limited contracts/pairs</td>
            </tr>

            </tbody>
            </table>

<h2 id="authenticated-endpoints">Authenticated Endpoints</h2>
<pre class="highlight javascript"><code><span class="c1">// All examples assume the following:</span>
<span class="c1">// 1. You are using the provided example request object</span>
<span class="c1">// 2. You use your API key and secret</span>
<span class="c1">// 3. BTCUSD is the default symbol</span>
<span class="kd">var</span>
  <span class="nx">request</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'request'</span><span class="p">),</span>
  <span class="nx">api_key</span> <span class="o">=</span> <span class="s2">"&lt;Your API key&gt;"</span><span class="p">,</span>
  <span class="nx">api_secret</span> <span class="o">=</span> <span class="s2">"&lt;Your API secret&gt;"</span><span class="p">,</span>
  <span class="nx">baseRequest</span> <span class="o">=</span> <span class="nx">request</span><span class="p">.</span><span class="nx">defaults</span><span class="p">({</span>
    <span class="na">headers</span><span class="p">:</span> <span class="p">{</span>
        <span class="s1">'X-BFX-APIKEY'</span><span class="p">:</span> <span class="nx">api_key</span><span class="p">,</span>
    <span class="p">},</span>
    <span class="na">baseUrl</span><span class="p">:</span> <span class="s2">"https://api.bitfinex.com/v1"</span>
  <span class="p">});</span>
</code></pre>

<aside class="notice">
All Authenticated Endpoints use POST requests
</aside>

<h3 id="account-info">Account info</h3>

<blockquote>
<p><strong>Request</strong></p>
</blockquote>
<pre class="highlight javascript"><code><span class="kd">var</span> <span class="nx">payload</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s2">"request"</span><span class="p">:</span> <span class="s2">"/v1/account_infos"</span><span class="p">,</span>
  <span class="s2">"nonce"</span><span class="p">:</span> <span class="nb">Date</span><span class="p">.</span><span class="nx">now</span><span class="p">().</span><span class="nx">toString</span><span class="p">()</span>
<span class="p">};</span>
<span class="nx">payload</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Buffer</span><span class="p">(</span><span class="nx">JSON</span><span class="p">.</span><span class="nx">stringify</span><span class="p">(</span><span class="nx">payload</span><span class="p">)).</span><span class="nx">toString</span><span class="p">(</span><span class="s1">'base64'</span><span class="p">);</span>
<span class="kd">var</span> <span class="nx">signature</span> <span class="o">=</span> <span class="nx">crypto</span><span class="p">.</span><span class="nx">createHmac</span><span class="p">(</span><span class="s2">"sha384"</span><span class="p">,</span> <span class="nx">api_secret</span><span class="p">).</span><span class="nx">update</span><span class="p">(</span><span class="nx">payload</span><span class="p">).</span><span class="nx">digest</span><span class="p">(</span><span class="s1">'hex'</span><span class="p">);</span>
<span class="kd">var</span> <span class="nx">options</span> <span class="o">=</span> <span class="p">{</span>
  <span class="na">url</span><span class="p">:</span> <span class="s2">"/account_infos"</span><span class="p">,</span>
  <span class="na">headers</span><span class="p">:</span> <span class="p">{</span>
    <span class="s1">'X-BFX-PAYLOAD'</span><span class="p">:</span> <span class="nx">payload</span><span class="p">,</span>
    <span class="s1">'X-BFX-SIGNATURE'</span><span class="p">:</span> <span class="nx">signature</span>
  <span class="p">},</span>
  <span class="na">body</span><span class="p">:</span> <span class="nx">payload</span>
<span class="p">};</span>
<span class="nx">baseRequest</span><span class="p">.</span><span class="nx">post</span><span class="p">(</span><span class="nx">options</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span><span class="nx">error</span><span class="p">,</span> <span class="nx">response</span><span class="p">,</span> <span class="nx">body</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">body</span><span class="p">);</span>
<span class="p">});</span>
</code></pre>

<blockquote>
<p><strong>Response</strong></p>
</blockquote>
<pre class="highlight json"><code><span class="p">[{</span><span class="w">
  </span><span class="nt">"maker_fees"</span><span class="p">:</span><span class="s2">"0.1"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"taker_fees"</span><span class="p">:</span><span class="s2">"0.2"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"fees"</span><span class="p">:[{</span><span class="w">
    </span><span class="nt">"pairs"</span><span class="p">:</span><span class="s2">"BTC"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"maker_fees"</span><span class="p">:</span><span class="s2">"0.1"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"taker_fees"</span><span class="p">:</span><span class="s2">"0.2"</span><span class="w">
   </span><span class="p">},{</span><span class="w">
    </span><span class="nt">"pairs"</span><span class="p">:</span><span class="s2">"LTC"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"maker_fees"</span><span class="p">:</span><span class="s2">"0.1"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"taker_fees"</span><span class="p">:</span><span class="s2">"0.2"</span><span class="w">
   </span><span class="p">},</span><span class="w">
   </span><span class="p">{</span><span class="w">
    </span><span class="nt">"pairs"</span><span class="p">:</span><span class="s2">"DRK"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"maker_fees"</span><span class="p">:</span><span class="s2">"0.1"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"taker_fees"</span><span class="p">:</span><span class="s2">"0.2"</span><span class="w">
  </span><span class="p">}]</span><span class="w">
</span><span class="p">}]</span><span class="w">
</span></code></pre>

<p><strong>Endpoint</strong></p>

<p><code class="prettyprint">/account_infos</code></p>

<p><strong>Description</strong></p>

<p>Return information about your account (trading fees).</p>

<p><strong>Response Details</strong></p>

<table class="striped">
          <thead>
            <tr>
              <th class="sortable">Key<i class="fa fa-sort-down"></i><i class="fa fa-sort-up"></i></th>
              <th class="sortable">Type<i class="fa fa-sort-down"></i><i class="fa fa-sort-up"></i></th>
              <th class="sortable">Description<i class="fa fa-sort-down"></i><i class="fa fa-sort-up"></i></th>
            </tr>
          </thead>
          <tbody>

          <tr>
            <td><strong>pairs</strong></td>
            <td>[string]</td>
            <td>The currency included in the pairs with this fee schedule</td>
          </tr>
          <tr>
            <td><strong>maker_fees</strong></td>
            <td>[decimal]</td>
            <td>Your current fees for maker orders (limit orders not marketable, in percent)</td>
          </tr>
          <tr>
            <td><strong>taker_fees</strong></td>
            <td>[decimal]</td>
            <td>Your current fees for taker orders (marketable order, in percent)</td>
          </tr>

          </tbody>
          </table>

<h3 id="deposit">Deposit</h3>

<blockquote>
<p><strong>Request</strong></p>
</blockquote>
<pre class="highlight javascript"><code><span class="kd">var</span> <span class="nx">payload</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s2">"request"</span><span class="p">:</span> <span class="s2">"/v1/deposit/new"</span><span class="p">,</span>
  <span class="s2">"nonce"</span><span class="p">:</span> <span class="nb">Date</span><span class="p">.</span><span class="nx">now</span><span class="p">().</span><span class="nx">toString</span><span class="p">(),</span>
  <span class="s2">"method"</span><span class="p">:</span> <span class="s2">"bitcoin"</span><span class="p">,</span>
  <span class="s2">"wallet_name"</span><span class="p">:</span> <span class="s2">"exchange"</span><span class="p">,</span>
  <span class="s2">"renew"</span><span class="p">:</span> <span class="mi">0</span>
<span class="p">};</span>
<span class="nx">payload</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Buffer</span><span class="p">(</span><span class="nx">JSON</span><span class="p">.</span><span class="nx">stringify</span><span class="p">(</span><span class="nx">payload</span><span class="p">)).</span><span class="nx">toString</span><span class="p">(</span><span class="s1">'base64'</span><span class="p">);</span>
<span class="kd">var</span> <span class="nx">signature</span> <span class="o">=</span> <span class="nx">crypto</span><span class="p">.</span><span class="nx">createHmac</span><span class="p">(</span><span class="s2">"sha384"</span><span class="p">,</span> <span class="nx">api_secret</span><span class="p">).</span><span class="nx">update</span><span class="p">(</span><span class="nx">payload</span><span class="p">).</span><span class="nx">digest</span><span class="p">(</span><span class="s1">'hex'</span><span class="p">);</span>
<span class="kd">var</span> <span class="nx">options</span> <span class="o">=</span> <span class="p">{</span>
  <span class="na">url</span><span class="p">:</span> <span class="s2">"/deposit/new"</span><span class="p">,</span>
  <span class="na">headers</span><span class="p">:</span> <span class="p">{</span>
    <span class="s1">'X-BFX-PAYLOAD'</span><span class="p">:</span> <span class="nx">payload</span><span class="p">,</span>
    <span class="s1">'X-BFX-SIGNATURE'</span><span class="p">:</span> <span class="nx">signature</span>
  <span class="p">},</span>
  <span class="na">body</span><span class="p">:</span> <span class="nx">payload</span>
<span class="p">};</span>
<span class="nx">baseRequest</span><span class="p">.</span><span class="nx">post</span><span class="p">(</span><span class="nx">options</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span><span class="nx">error</span><span class="p">,</span> <span class="nx">response</span><span class="p">,</span> <span class="nx">body</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">body</span><span class="p">);</span>
<span class="p">});</span>
</code></pre>

<blockquote>
<p><strong>Response</strong></p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"result"</span><span class="p">:</span><span class="s2">"success"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"method"</span><span class="p">:</span><span class="s2">"bitcoin"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"currency"</span><span class="p">:</span><span class="s2">"BTC"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"address"</span><span class="p">:</span><span class="s2">"3FdY9coNq47MLiKhG2FLtKzdaXS3hZpSo4"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p><strong>Endpoint</strong></p>

<p><code class="prettyprint">/deposit/new</code></p>

<p><strong>Description</strong></p>

<p>Return your deposit address to make a new deposit.</p>

<p><strong>Request Details</strong></p>

<table class="striped">
          <thead>
            <tr>
              <th class="sortable">Key<i class="fa fa-sort-down"></i><i class="fa fa-sort-up"></i></th>
              <th class="sortable">Type<i class="fa fa-sort-down"></i><i class="fa fa-sort-up"></i></th>
              <th class="sortable">Description<i class="fa fa-sort-down"></i><i class="fa fa-sort-up"></i></th>
            </tr>
          </thead>
          <tbody>

          <tr>
            <td><strong>method</strong></td>
            <td>[string]</td>
            <td>Method of deposit (methods accepted: &ldquo;bitcoin&rdquo;, &ldquo;litecoin&rdquo;, &ldquo;darkcoin&rdquo;, &ldquo;mastercoin&rdquo; (tethers)).</td>
          </tr>
          <tr>
            <td><strong>wallet_name</strong></td>
            <td>[string]</td>
            <td>Wallet to deposit in (accepted: &ldquo;trading&rdquo;, &ldquo;exchange&rdquo;, &ldquo;deposit&rdquo;). Your wallet needs to already exist</td>
          </tr>
          <tr>
            <td><strong>renew</strong></td>
            <td>[integer]</td>
            <td>(optional) Default is 0. If set to 1, will return a new unused deposit address</td>
          </tr>

          </tbody>
          </table>

<p><strong>Response Details</strong></p>

<table class="striped">
          <thead>
            <tr>
              <th class="sortable">Key<i class="fa fa-sort-down"></i><i class="fa fa-sort-up"></i></th>
              <th class="sortable">Type<i class="fa fa-sort-down"></i><i class="fa fa-sort-up"></i></th>
              <th class="sortable">Description<i class="fa fa-sort-down"></i><i class="fa fa-sort-up"></i></th>
            </tr>
          </thead>
          <tbody>

          <tr>
            <td><strong>result</strong></td>
            <td>[string]</td>
            <td>&ldquo;success&rdquo; or &ldquo;error&rdquo;</td>
          </tr>
          <tr>
            <td><strong>method</strong></td>
            <td>[string]</td>
            <td></td>
          </tr>
          <tr>
            <td><strong>currency</strong></td>
            <td>[string]</td>
            <td></td>
          </tr>
          <tr>
            <td><strong>address</strong></td>
            <td>[string]</td>
            <td>The deposit address (or error message if result = &ldquo;error&rdquo;)</td>
          </tr>

          </tbody>
          </table>

<h3 id="orders">Orders</h3>

<h4 id="new-order">New Order</h4>

<blockquote>
<p><strong>Request</strong></p>
</blockquote>
<pre class="highlight javascript"><code><span class="kd">var</span> <span class="nx">payload</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s2">"request"</span><span class="p">:</span> <span class="s2">"/v1/order/new"</span><span class="p">,</span>
  <span class="s2">"nonce"</span><span class="p">:</span> <span class="nb">Date</span><span class="p">.</span><span class="nx">now</span><span class="p">().</span><span class="nx">toString</span><span class="p">(),</span>
  <span class="s2">"symbol"</span><span class="p">:</span> <span class="s2">"BTCUSD"</span><span class="p">,</span>
  <span class="s2">"amount"</span><span class="p">:</span><span class="s2">"0.01"</span><span class="p">,</span>
  <span class="s2">"price"</span><span class="p">:</span> <span class="s2">"0.01"</span><span class="p">,</span>
  <span class="s2">"exchange"</span><span class="p">:</span> <span class="s2">"bitfinex"</span><span class="p">,</span>
  <span class="s2">"side"</span><span class="p">:</span> <span class="s2">"buy"</span><span class="p">,</span>
  <span class="s2">"type"</span><span class="p">:</span> <span class="s2">"exchange limit"</span>
<span class="p">};</span>
<span class="nx">payload</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Buffer</span><span class="p">(</span><span class="nx">JSON</span><span class="p">.</span><span class="nx">stringify</span><span class="p">(</span><span class="nx">payload</span><span class="p">)).</span><span class="nx">toString</span><span class="p">(</span><span class="s1">'base64'</span><span class="p">);</span>
<span class="kd">var</span> <span class="nx">signature</span> <span class="o">=</span> <span class="nx">crypto</span><span class="p">.</span><span class="nx">createHmac</span><span class="p">(</span><span class="s2">"sha384"</span><span class="p">,</span> <span class="nx">api_secret</span><span class="p">).</span><span class="nx">update</span><span class="p">(</span><span class="nx">payload</span><span class="p">).</span><span class="nx">digest</span><span class="p">(</span><span class="s1">'hex'</span><span class="p">);</span>
<span class="kd">var</span> <span class="nx">options</span> <span class="o">=</span> <span class="p">{</span>
  <span class="na">url</span><span class="p">:</span> <span class="s2">"/order/new"</span><span class="p">,</span>
  <span class="na">headers</span><span class="p">:</span> <span class="p">{</span>
    <span class="s1">'X-BFX-PAYLOAD'</span><span class="p">:</span> <span class="nx">payload</span><span class="p">,</span>
    <span class="s1">'X-BFX-SIGNATURE'</span><span class="p">:</span> <span class="nx">signature</span>
  <span class="p">},</span>
  <span class="na">body</span><span class="p">:</span> <span class="nx">payload</span>
<span class="p">};</span>
<span class="nx">baseRequest</span><span class="p">.</span><span class="nx">post</span><span class="p">(</span><span class="nx">options</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span><span class="nx">error</span><span class="p">,</span> <span class="nx">response</span><span class="p">,</span> <span class="nx">body</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">body</span><span class="p">);</span>
<span class="p">});</span>
</code></pre>

<blockquote>
<p><strong>Response</strong></p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"id"</span><span class="p">:</span><span class="mi">448364249</span><span class="p">,</span><span class="w">
  </span><span class="nt">"symbol"</span><span class="p">:</span><span class="s2">"btcusd"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"exchange"</span><span class="p">:</span><span class="s2">"bitfinex"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"price"</span><span class="p">:</span><span class="s2">"0.01"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"avg_execution_price"</span><span class="p">:</span><span class="s2">"0.0"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"side"</span><span class="p">:</span><span class="s2">"buy"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"type"</span><span class="p">:</span><span class="s2">"exchange limit"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"timestamp"</span><span class="p">:</span><span class="s2">"1444272165.252370982"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"is_live"</span><span class="p">:</span><span class="kc">true</span><span class="p">,</span><span class="w">
  </span><span class="nt">"is_cancelled"</span><span class="p">:</span><span class="kc">false</span><span class="p">,</span><span class="w">
  </span><span class="nt">"is_hidden"</span><span class="p">:</span><span class="kc">false</span><span class="p">,</span><span class="w">
  </span><span class="nt">"was_forced"</span><span class="p">:</span><span class="kc">false</span><span class="p">,</span><span class="w">
  </span><span class="nt">"original_amount"</span><span class="p">:</span><span class="s2">"0.01"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"remaining_amount"</span><span class="p">:</span><span class="s2">"0.01"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"executed_amount"</span><span class="p">:</span><span class="s2">"0.0"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"order_id"</span><span class="p">:</span><span class="mi">448364249</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p><strong>Endpoint</strong></p>

<p><code class="prettyprint">/order/new</code></p>

<p><strong>Description</strong></p>

<p>Submit a new order.</p>

<p><strong>Request Details</strong></p>

<table class="striped">
            <thead>
              <tr>
                <th class="sortable">Key<i class="fa fa-sort-down"></i><i class="fa fa-sort-up"></i></th>
                <th class="sortable">Type<i class="fa fa-sort-down"></i><i class="fa fa-sort-up"></i></th>
                <th class="sortable">Description<i class="fa fa-sort-down"></i><i class="fa fa-sort-up"></i></th>
              </tr>
            </thead>
            <tbody>

            <tr>
              <td><strong>symbol</strong></td>
              <td>[string]</td>
              <td>The name of the symbol (see `/symbols`).</td>
            </tr>
            <tr>
              <td><strong>amount</strong></td>
              <td>[decimal]</td>
              <td>Order size: how much to buy or sell.</td>
            </tr>
            <tr>
              <td><strong>price</strong></td>
              <td>[price]</td>
              <td>Price to buy or sell at. Must be positive. Use random number for market orders.</td>
            </tr>
            <tr>
              <td><strong>exchange</strong></td>
              <td>[string]</td>
              <td>&ldquo;bitfinex&rdquo;</td>
            </tr>
            <tr>
              <td><strong>side</strong></td>
              <td>[string]</td>
              <td>Either &ldquo;buy&rdquo; or &ldquo;sell&rdquo;.</td>
            </tr>
            <tr>
              <td><strong>type</strong></td>
              <td>[string]</td>
              <td>Either &ldquo;market&rdquo; / &ldquo;limit&rdquo; / &ldquo;stop&rdquo; / &ldquo;trailing-stop&rdquo; / &ldquo;fill-or-kill&rdquo; / &ldquo;exchange market&rdquo; / &ldquo;exchange limit&rdquo; / &ldquo;exchange stop&rdquo; / &ldquo;exchange trailing-stop&rdquo; / &ldquo;exchange fill-or-kill&rdquo;. (type starting by &ldquo;exchange &rdquo; are exchange orders, others are margin trading orders)</td>
            </tr>
            <tr>
              <td><strong>is_hidden</strong></td>
              <td>[bool]</td>
              <td>true if the order should be hidden. Default is false.</td>
            </tr>
            </tbody>
            </table>

<p><strong>Response Details</strong></p>

<table class="striped">
            <thead>
              <tr>
                <th class="sortable">Key<i class="fa fa-sort-down"></i><i class="fa fa-sort-up"></i></th>
                <th class="sortable">Type<i class="fa fa-sort-down"></i><i class="fa fa-sort-up"></i></th>
                <th class="sortable">Description<i class="fa fa-sort-down"></i><i class="fa fa-sort-up"></i></th>
              </tr>
            </thead>
            <tbody>

            <tr>
              <td><strong>order_id</strong></td>
              <td>[int]</td>
              <td>An order object containing the order&rsquo;s ID as well as all the information provided by /order/status</td>
            </tr>
            </tbody>
            </table>

<p><strong>Order Types</strong></p>

<table class="striped">
              <thead>
              <tr>
                <th class="sortable">Margin trading type<i class="fa fa-sort-down"></i><i class="fa fa-sort-up"></i></th>
                <th class="sortable">Exchange type<i class="fa fa-sort-down"></i><i class="fa fa-sort-up"></i></th>
              </tr>
              </thead>
              <tbody>
              <tr>
                <td>LIMIT</td>
                <td>EXCHANGE LIMIT</td>
              </tr>
              <tr>
                <td>MARKET</td>
                <td>EXCHANGE MARKET</td>
              </tr>
              <tr>
                <td>STOP</td>
                <td>EXCHANGE STOP</td>
              </tr>
              <tr>
                <td>TRAILING STOP</td>
                <td>EXCHANGE TRAILING STOP</td>
              </tr>
                  <tr>
                    <td>FILL-OR-KILL</td>
                    <td>EXCHANGE FILL-OR-KILL</td>
                  </tr>
              </tbody>
            </table>

<h4 id="multiple-new-orders">Multiple new orders</h4>

<blockquote>
<p><strong>Request</strong></p>
</blockquote>
<pre class="highlight javascript"><code><span class="kd">var</span> <span class="nx">payload</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s2">"request"</span><span class="p">:</span> <span class="s2">"/v1/order/new/multi"</span><span class="p">,</span>
  <span class="s2">"nonce"</span><span class="p">:</span> <span class="nb">Date</span><span class="p">.</span><span class="nx">now</span><span class="p">().</span><span class="nx">toString</span><span class="p">(),</span>
  <span class="s2">"orders"</span><span class="p">:</span> <span class="p">[{</span>
    <span class="s2">"symbol"</span><span class="p">:</span> <span class="s2">"BTCUSD"</span><span class="p">,</span>
    <span class="s2">"amount"</span><span class="p">:</span> <span class="s2">"0.01"</span><span class="p">,</span>
    <span class="s2">"price"</span><span class="p">:</span> <span class="s2">"0.01"</span><span class="p">,</span>
    <span class="s2">"exchange"</span><span class="p">:</span> <span class="s2">"bitfinex"</span><span class="p">,</span>
    <span class="s2">"side"</span><span class="p">:</span> <span class="s2">"buy"</span><span class="p">,</span>
    <span class="s2">"type"</span><span class="p">:</span> <span class="s2">"exchange limit"</span>
  <span class="p">},{</span>
    <span class="s2">"symbol"</span><span class="p">:</span> <span class="s2">"BTCUSD"</span><span class="p">,</span>
    <span class="s2">"amount"</span><span class="p">:</span> <span class="s2">"0.02"</span><span class="p">,</span>
    <span class="s2">"price"</span><span class="p">:</span> <span class="s2">"0.03"</span><span class="p">,</span>
    <span class="s2">"exchange"</span><span class="p">:</span> <span class="s2">"bitfinex"</span><span class="p">,</span>
    <span class="s2">"side"</span><span class="p">:</span> <span class="s2">"buy"</span><span class="p">,</span>
    <span class="s2">"type"</span><span class="p">:</span> <span class="s2">"exchange limit"</span>
  <span class="p">}]</span>
<span class="p">};</span>

<span class="nx">payload</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Buffer</span><span class="p">(</span><span class="nx">JSON</span><span class="p">.</span><span class="nx">stringify</span><span class="p">(</span><span class="nx">payload</span><span class="p">)).</span><span class="nx">toString</span><span class="p">(</span><span class="s1">'base64'</span><span class="p">);</span>
<span class="kd">var</span> <span class="nx">signature</span> <span class="o">=</span> <span class="nx">crypto</span><span class="p">.</span><span class="nx">createHmac</span><span class="p">(</span><span class="s2">"sha384"</span><span class="p">,</span> <span class="nx">api_secret</span><span class="p">).</span><span class="nx">update</span><span class="p">(</span><span class="nx">payload</span><span class="p">).</span><span class="nx">digest</span><span class="p">(</span><span class="s1">'hex'</span><span class="p">);</span>
<span class="kd">var</span> <span class="nx">options</span> <span class="o">=</span> <span class="p">{</span>
    <span class="na">url</span><span class="p">:</span> <span class="s2">"/order/new/multi"</span><span class="p">,</span>
    <span class="na">headers</span><span class="p">:</span> <span class="p">{</span>
        <span class="s1">'X-BFX-PAYLOAD'</span><span class="p">:</span> <span class="nx">payload</span><span class="p">,</span>
        <span class="s1">'X-BFX-SIGNATURE'</span><span class="p">:</span> <span class="nx">signature</span>
    <span class="p">},</span>
    <span class="na">body</span><span class="p">:</span> <span class="nx">payload</span>
<span class="p">};</span>
<span class="nx">baseRequest</span><span class="p">.</span><span class="nx">post</span><span class="p">(</span><span class="nx">options</span><span class="p">,</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">error</span><span class="p">,</span> <span class="nx">response</span><span class="p">,</span> <span class="nx">body</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">body</span><span class="p">);</span>
<span class="p">});</span>
</code></pre>

<blockquote>
<p><strong>Response</strong></p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"order_ids"</span><span class="p">:[{</span><span class="w">
    </span><span class="nt">"id"</span><span class="p">:</span><span class="mi">448383727</span><span class="p">,</span><span class="w">
    </span><span class="nt">"symbol"</span><span class="p">:</span><span class="s2">"btcusd"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"exchange"</span><span class="p">:</span><span class="s2">"bitfinex"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"price"</span><span class="p">:</span><span class="s2">"0.01"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"avg_execution_price"</span><span class="p">:</span><span class="s2">"0.0"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"side"</span><span class="p">:</span><span class="s2">"buy"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"type"</span><span class="p">:</span><span class="s2">"exchange limit"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"timestamp"</span><span class="p">:</span><span class="s2">"1444274013.621701916"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"is_live"</span><span class="p">:</span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="nt">"is_cancelled"</span><span class="p">:</span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="nt">"is_hidden"</span><span class="p">:</span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="nt">"was_forced"</span><span class="p">:</span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="nt">"original_amount"</span><span class="p">:</span><span class="s2">"0.01"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"remaining_amount"</span><span class="p">:</span><span class="s2">"0.01"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"executed_amount"</span><span class="p">:</span><span class="s2">"0.0"</span><span class="w">
  </span><span class="p">},{</span><span class="w">
    </span><span class="nt">"id"</span><span class="p">:</span><span class="mi">448383729</span><span class="p">,</span><span class="w">
    </span><span class="nt">"symbol"</span><span class="p">:</span><span class="s2">"btcusd"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"exchange"</span><span class="p">:</span><span class="s2">"bitfinex"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"price"</span><span class="p">:</span><span class="s2">"0.03"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"avg_execution_price"</span><span class="p">:</span><span class="s2">"0.0"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"side"</span><span class="p">:</span><span class="s2">"buy"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"type"</span><span class="p">:</span><span class="s2">"exchange limit"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"timestamp"</span><span class="p">:</span><span class="s2">"1444274013.661297306"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"is_live"</span><span class="p">:</span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="nt">"is_cancelled"</span><span class="p">:</span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="nt">"is_hidden"</span><span class="p">:</span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="nt">"was_forced"</span><span class="p">:</span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="nt">"original_amount"</span><span class="p">:</span><span class="s2">"0.02"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"remaining_amount"</span><span class="p">:</span><span class="s2">"0.02"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"executed_amount"</span><span class="p">:</span><span class="s2">"0.0"</span><span class="w">
  </span><span class="p">}],</span><span class="w">
  </span><span class="nt">"status"</span><span class="p">:</span><span class="s2">"success"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p><strong>Endpoint</strong></p>

<p><code class="prettyprint">/order/new/multi</code></p>

<p><strong>Description</strong></p>

<p>Submit several new orders at once.</p>

<p><strong>Request Details</strong></p>

<table class="striped">
            <thead>
              <tr>
                <th class="sortable">Key<i class="fa fa-sort-down"></i><i class="fa fa-sort-up"></i></th>
                <th class="sortable">Type<i class="fa fa-sort-down"></i><i class="fa fa-sort-up"></i></th>
                <th class="sortable">Description<i class="fa fa-sort-down"></i><i class="fa fa-sort-up"></i></th>
              </tr>
            </thead>
            <tbody>

            <tr>
              <td><strong>symbol</strong></td>
              <td>[string]</td>
              <td>The name of the symbol (see `/symbols`).</td>
            </tr>
            <tr>
              <td><strong>amount</strong></td>
              <td>[decimal]</td>
              <td>Order size: how much to buy or sell.</td>
            </tr>
            <tr>
              <td><strong>price</strong></td>
              <td>[price]</td>
              <td>Price to buy or sell at. May omit if a market order.</td>
            </tr>
            <tr>
              <td><strong>exchange</strong></td>
              <td>[string]</td>
              <td>&ldquo;bitfinex&rdquo;, &ldquo;bitstamp&rdquo;, &ldquo;all&rdquo; (for no routing).</td>
            </tr>
            <tr>
              <td><strong>side</strong></td>
              <td>[string]</td>
              <td>Either &ldquo;buy&rdquo; or &ldquo;sell&rdquo;.</td>
            </tr>
            <tr>
              <td><strong>type</strong></td>
              <td>[string]</td>
              <td>Either &ldquo;market&rdquo; / &ldquo;limit&rdquo; / &ldquo;stop&rdquo; / &ldquo;trailing-stop&rdquo; / &ldquo;fill-or-kill&rdquo;.</td>
            </tr>

            </tbody>
            </table>

<p><strong>Response Details</strong></p>

<table class="striped">
            <thead>
              <tr>
                <th class="sortable">Key<i class="fa fa-sort-down"></i><i class="fa fa-sort-up"></i></th>
                <th class="sortable">Type<i class="fa fa-sort-down"></i><i class="fa fa-sort-up"></i></th>
                <th class="sortable">Description<i class="fa fa-sort-down"></i><i class="fa fa-sort-up"></i></th>
              </tr>
            </thead>
            <tbody>

            <tr>
              <td><strong>order_ids</strong></td>
              <td>[array]</td>
              <td>An array of order objects each having their own unique ID, as well as the information given by /order/status for each of the orders opened.</td>
            </tr>
            </tbody>
            </table>

<h4 id="cancel-order">Cancel order</h4>

<blockquote>
<p><strong>Request</strong></p>
</blockquote>
<pre class="highlight javascript"><code><span class="kd">var</span> <span class="nx">payload</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s2">"request"</span><span class="p">:</span> <span class="s2">"/v1/order/cancel"</span><span class="p">,</span>
  <span class="s2">"nonce"</span><span class="p">:</span> <span class="nb">Date</span><span class="p">.</span><span class="nx">now</span><span class="p">().</span><span class="nx">toString</span><span class="p">(),</span>
  <span class="s2">"order_id"</span><span class="p">:</span> <span class="mi">448364249</span>
<span class="p">};</span>
<span class="nx">payload</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Buffer</span><span class="p">(</span><span class="nx">JSON</span><span class="p">.</span><span class="nx">stringify</span><span class="p">(</span><span class="nx">payload</span><span class="p">)).</span><span class="nx">toString</span><span class="p">(</span><span class="s1">'base64'</span><span class="p">);</span>
<span class="kd">var</span> <span class="nx">signature</span> <span class="o">=</span> <span class="nx">crypto</span><span class="p">.</span><span class="nx">createHmac</span><span class="p">(</span><span class="s2">"sha384"</span><span class="p">,</span> <span class="nx">api_secret</span><span class="p">).</span><span class="nx">update</span><span class="p">(</span><span class="nx">payload</span><span class="p">).</span><span class="nx">digest</span><span class="p">(</span><span class="s1">'hex'</span><span class="p">);</span>
<span class="kd">var</span> <span class="nx">options</span> <span class="o">=</span> <span class="p">{</span>
  <span class="na">url</span><span class="p">:</span> <span class="s2">"/order/cancel"</span><span class="p">,</span>
  <span class="na">headers</span><span class="p">:</span> <span class="p">{</span>
    <span class="s1">'X-BFX-PAYLOAD'</span><span class="p">:</span> <span class="nx">payload</span><span class="p">,</span>
    <span class="s1">'X-BFX-SIGNATURE'</span><span class="p">:</span> <span class="nx">signature</span>
  <span class="p">},</span>
  <span class="na">body</span><span class="p">:</span> <span class="nx">payload</span>
<span class="p">};</span>
<span class="nx">baseRequest</span><span class="p">.</span><span class="nx">post</span><span class="p">(</span><span class="nx">options</span><span class="p">,</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">error</span><span class="p">,</span> <span class="nx">response</span><span class="p">,</span> <span class="nx">body</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">body</span><span class="p">);</span>
<span class="p">});</span>
</code></pre>

<blockquote>
<p><strong>Response</strong></p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"id"</span><span class="p">:</span><span class="mi">446915287</span><span class="p">,</span><span class="w">
  </span><span class="nt">"symbol"</span><span class="p">:</span><span class="s2">"btcusd"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"exchange"</span><span class="p">:</span><span class="kc">null</span><span class="p">,</span><span class="w">
  </span><span class="nt">"price"</span><span class="p">:</span><span class="s2">"239.0"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"avg_execution_price"</span><span class="p">:</span><span class="s2">"0.0"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"side"</span><span class="p">:</span><span class="s2">"sell"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"type"</span><span class="p">:</span><span class="s2">"trailing stop"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"timestamp"</span><span class="p">:</span><span class="s2">"1444141982.0"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"is_live"</span><span class="p">:</span><span class="kc">true</span><span class="p">,</span><span class="w">
  </span><span class="nt">"is_cancelled"</span><span class="p">:</span><span class="kc">false</span><span class="p">,</span><span class="w">
  </span><span class="nt">"is_hidden"</span><span class="p">:</span><span class="kc">false</span><span class="p">,</span><span class="w">
  </span><span class="nt">"was_forced"</span><span class="p">:</span><span class="kc">false</span><span class="p">,</span><span class="w">
  </span><span class="nt">"original_amount"</span><span class="p">:</span><span class="s2">"1.0"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"remaining_amount"</span><span class="p">:</span><span class="s2">"1.0"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"executed_amount"</span><span class="p">:</span><span class="s2">"0.0"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p><strong>Endpoint</strong></p>

<p><code class="prettyprint">/order/cancel</code></p>

<p><strong>Description</strong></p>

<p>Cancel an order.</p>

<p><strong>Request Details</strong></p>

<table class="striped">
            <thead>
              <tr>
                <th class="sortable">Key<i class="fa fa-sort-down"></i><i class="fa fa-sort-up"></i></th>
                <th class="sortable">Type<i class="fa fa-sort-down"></i><i class="fa fa-sort-up"></i></th>
                <th class="sortable">Description<i class="fa fa-sort-down"></i><i class="fa fa-sort-up"></i></th>
              </tr>
            </thead>
            <tbody>

            <tr>
              <td><strong>order_id</strong></td>
              <td>[int]</td>
              <td>The order ID given by `/order/new`.</td>
            </tr>
            </tbody>
            </table>

<p><strong>Response Details</strong></p>

<p>Result of /order/status for the cancelled order.</p>

<h4 id="cancel-multiple-orders">Cancel multiple orders</h4>

<blockquote>
<p><strong>Request</strong></p>
</blockquote>
<pre class="highlight javascript"><code><span class="kd">var</span> <span class="nx">payload</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s2">"request"</span><span class="p">:</span> <span class="s2">"/v1/order/cancel/multi"</span><span class="p">,</span>
  <span class="s2">"nonce"</span><span class="p">:</span> <span class="nb">Date</span><span class="p">.</span><span class="nx">now</span><span class="p">().</span><span class="nx">toString</span><span class="p">(),</span>
  <span class="s2">"order_ids"</span><span class="p">:</span> <span class="p">[</span><span class="mi">448402101</span><span class="p">,</span> <span class="mi">448402099</span><span class="p">]</span>
<span class="p">};</span>
<span class="nx">payload</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Buffer</span><span class="p">(</span><span class="nx">JSON</span><span class="p">.</span><span class="nx">stringify</span><span class="p">(</span><span class="nx">payload</span><span class="p">)).</span><span class="nx">toString</span><span class="p">(</span><span class="s1">'base64'</span><span class="p">);</span>
<span class="kd">var</span> <span class="nx">signature</span> <span class="o">=</span> <span class="nx">crypto</span><span class="p">.</span><span class="nx">createHmac</span><span class="p">(</span><span class="s2">"sha384"</span><span class="p">,</span> <span class="nx">api_secret</span><span class="p">).</span><span class="nx">update</span><span class="p">(</span><span class="nx">payload</span><span class="p">).</span><span class="nx">digest</span><span class="p">(</span><span class="s1">'hex'</span><span class="p">);</span>
<span class="kd">var</span> <span class="nx">options</span> <span class="o">=</span> <span class="p">{</span>
  <span class="na">url</span><span class="p">:</span> <span class="s2">"/order/cancel/multi"</span><span class="p">,</span>
  <span class="na">headers</span><span class="p">:</span> <span class="p">{</span>
    <span class="s1">'X-BFX-PAYLOAD'</span><span class="p">:</span> <span class="nx">payload</span><span class="p">,</span>
    <span class="s1">'X-BFX-SIGNATURE'</span><span class="p">:</span> <span class="nx">signature</span>
  <span class="p">},</span>
  <span class="na">body</span><span class="p">:</span> <span class="nx">payload</span>
<span class="p">};</span>
<span class="nx">baseRequest</span><span class="p">.</span><span class="nx">post</span><span class="p">(</span><span class="nx">options</span><span class="p">,</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">error</span><span class="p">,</span> <span class="nx">response</span><span class="p">,</span> <span class="nx">body</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">body</span><span class="p">);</span>
<span class="p">});</span>
</code></pre>

<blockquote>
<p><strong>Response</strong></p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="nt">"result"</span><span class="p">:</span><span class="s2">"Orders cancelled"</span><span class="p">}</span><span class="w">
</span></code></pre>

<p><strong>Endpoint</strong></p>

<p><code class="prettyprint">/order/cancel/multi</code></p>

<p><strong>Description</strong></p>

<p>Cancel multiples orders at once.</p>

<p><strong>Request Details</strong></p>

<table class="striped">
            <thead>
              <tr>
                <th class="sortable">Key<i class="fa fa-sort-down"></i><i class="fa fa-sort-up"></i></th>
                <th class="sortable">Type<i class="fa fa-sort-down"></i><i class="fa fa-sort-up"></i></th>
                <th class="sortable">Description<i class="fa fa-sort-down"></i><i class="fa fa-sort-up"></i></th>
              </tr>
            </thead>
            <tbody>

            <tr>
              <td><strong>order_ids</strong></td>
              <td>[array]</td>
              <td>An array of the order IDs given by `/order/new` or `/order/new/multi`</td>
            </tr>
            </tbody>
            </table>

<p><strong>Response Details</strong></p>

<p>Confirmation of cancellation of the orders.</p>

<h4 id="cancel-all-orders">Cancel all orders</h4>

<blockquote>
<p><strong>Request</strong></p>
</blockquote>
<pre class="highlight javascript"><code><span class="kd">var</span> <span class="nx">payload</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s2">"request"</span><span class="p">:</span> <span class="s2">"/v1/order/cancel/all"</span><span class="p">,</span>
  <span class="s2">"nonce"</span><span class="p">:</span> <span class="nb">Date</span><span class="p">.</span><span class="nx">now</span><span class="p">().</span><span class="nx">toString</span><span class="p">()</span>
<span class="p">};</span>
<span class="nx">payload</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Buffer</span><span class="p">(</span><span class="nx">JSON</span><span class="p">.</span><span class="nx">stringify</span><span class="p">(</span><span class="nx">payload</span><span class="p">)).</span><span class="nx">toString</span><span class="p">(</span><span class="s1">'base64'</span><span class="p">);</span>
<span class="kd">var</span> <span class="nx">signature</span> <span class="o">=</span> <span class="nx">crypto</span><span class="p">.</span><span class="nx">createHmac</span><span class="p">(</span><span class="s2">"sha384"</span><span class="p">,</span> <span class="nx">api_secret</span><span class="p">).</span><span class="nx">update</span><span class="p">(</span><span class="nx">payload</span><span class="p">).</span><span class="nx">digest</span><span class="p">(</span><span class="s1">'hex'</span><span class="p">);</span>
<span class="kd">var</span> <span class="nx">options</span> <span class="o">=</span> <span class="p">{</span>
  <span class="na">url</span><span class="p">:</span> <span class="s2">"/order/cancel/all"</span><span class="p">,</span>
  <span class="na">headers</span><span class="p">:</span> <span class="p">{</span>
    <span class="s1">'X-BFX-PAYLOAD'</span><span class="p">:</span> <span class="nx">payload</span><span class="p">,</span>
    <span class="s1">'X-BFX-SIGNATURE'</span><span class="p">:</span> <span class="nx">signature</span>
  <span class="p">},</span>
  <span class="na">body</span><span class="p">:</span> <span class="nx">payload</span>
<span class="p">};</span>
<span class="nx">baseRequest</span><span class="p">.</span><span class="nx">post</span><span class="p">(</span><span class="nx">options</span><span class="p">,</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">error</span><span class="p">,</span> <span class="nx">response</span><span class="p">,</span> <span class="nx">body</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">body</span><span class="p">);</span>
<span class="p">});</span>
</code></pre>

<blockquote>
<p><strong>Response</strong></p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="nt">"result"</span><span class="p">:</span><span class="s2">"All orders cancelled"</span><span class="p">}</span><span class="w">
</span></code></pre>

<p><strong>Endpoint</strong></p>

<p><code class="prettyprint">/order/cancel/all</code></p>

<p><strong>Description</strong></p>

<p>Cancel all active orders at once.</p>

<p><strong>Request Details</strong></p>

<p>No arguments required</p>

<p><strong>Response Details</strong></p>

<p>Confirmation of cancellation of the orders.</p>

<h4 id="replace-order">Replace order</h4>

<blockquote>
<p><strong>Request</strong></p>
</blockquote>
<pre class="highlight javascript"><code><span class="kd">var</span> <span class="nx">payload</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s2">"order_id"</span><span class="p">:</span> <span class="mi">448411153</span><span class="p">,</span>
  <span class="s2">"request"</span><span class="p">:</span> <span class="s2">"/v1/order/cancel/replace"</span><span class="p">,</span>
  <span class="s2">"nonce"</span><span class="p">:</span> <span class="nb">Date</span><span class="p">.</span><span class="nx">now</span><span class="p">().</span><span class="nx">toString</span><span class="p">(),</span>
  <span class="s2">"symbol"</span><span class="p">:</span> <span class="s2">"BTCUSD"</span><span class="p">,</span>
  <span class="s2">"amount"</span><span class="p">:</span><span class="s2">"0.02"</span><span class="p">,</span>
  <span class="s2">"price"</span><span class="p">:</span> <span class="s2">"0.02"</span><span class="p">,</span>
  <span class="s2">"exchange"</span><span class="p">:</span> <span class="s2">"bitfinex"</span><span class="p">,</span>
  <span class="s2">"side"</span><span class="p">:</span> <span class="s2">"buy"</span><span class="p">,</span>
  <span class="s2">"type"</span><span class="p">:</span> <span class="s2">"exchange limit"</span>
<span class="p">};</span>
<span class="nx">payload</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Buffer</span><span class="p">(</span><span class="nx">JSON</span><span class="p">.</span><span class="nx">stringify</span><span class="p">(</span><span class="nx">payload</span><span class="p">)).</span><span class="nx">toString</span><span class="p">(</span><span class="s1">'base64'</span><span class="p">);</span>
<span class="kd">var</span> <span class="nx">signature</span> <span class="o">=</span> <span class="nx">crypto</span><span class="p">.</span><span class="nx">createHmac</span><span class="p">(</span><span class="s2">"sha384"</span><span class="p">,</span> <span class="nx">api_secret</span><span class="p">).</span><span class="nx">update</span><span class="p">(</span><span class="nx">payload</span><span class="p">).</span><span class="nx">digest</span><span class="p">(</span><span class="s1">'hex'</span><span class="p">);</span>
<span class="kd">var</span> <span class="nx">options</span> <span class="o">=</span> <span class="p">{</span>
  <span class="na">url</span><span class="p">:</span> <span class="s2">"/order/cancel/replace"</span><span class="p">,</span>
  <span class="na">headers</span><span class="p">:</span> <span class="p">{</span>
    <span class="s1">'X-BFX-PAYLOAD'</span><span class="p">:</span> <span class="nx">payload</span><span class="p">,</span>
    <span class="s1">'X-BFX-SIGNATURE'</span><span class="p">:</span> <span class="nx">signature</span>
  <span class="p">},</span>
  <span class="na">body</span><span class="p">:</span> <span class="nx">payload</span>
<span class="p">};</span>
<span class="nx">baseRequest</span><span class="p">.</span><span class="nx">post</span><span class="p">(</span><span class="nx">options</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span><span class="nx">error</span><span class="p">,</span> <span class="nx">response</span><span class="p">,</span> <span class="nx">body</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">body</span><span class="p">);</span>
<span class="p">})</span>
</code></pre>

<blockquote>
<p><strong>Response</strong></p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"id"</span><span class="p">:</span><span class="mi">448411365</span><span class="p">,</span><span class="w">
  </span><span class="nt">"symbol"</span><span class="p">:</span><span class="s2">"btcusd"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"exchange"</span><span class="p">:</span><span class="s2">"bitfinex"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"price"</span><span class="p">:</span><span class="s2">"0.02"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"avg_execution_price"</span><span class="p">:</span><span class="s2">"0.0"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"side"</span><span class="p">:</span><span class="s2">"buy"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"type"</span><span class="p">:</span><span class="s2">"exchange limit"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"timestamp"</span><span class="p">:</span><span class="s2">"1444276597.691580782"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"is_live"</span><span class="p">:</span><span class="kc">true</span><span class="p">,</span><span class="w">
  </span><span class="nt">"is_cancelled"</span><span class="p">:</span><span class="kc">false</span><span class="p">,</span><span class="w">
  </span><span class="nt">"is_hidden"</span><span class="p">:</span><span class="kc">false</span><span class="p">,</span><span class="w">
  </span><span class="nt">"was_forced"</span><span class="p">:</span><span class="kc">false</span><span class="p">,</span><span class="w">
  </span><span class="nt">"original_amount"</span><span class="p">:</span><span class="s2">"0.02"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"remaining_amount"</span><span class="p">:</span><span class="s2">"0.02"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"executed_amount"</span><span class="p">:</span><span class="s2">"0.0"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"order_id"</span><span class="p">:</span><span class="mi">448411365</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p><strong>Endpoint</strong></p>

<p><code class="prettyprint">/order/cancel/replace</code></p>

<p><strong>Description</strong></p>

<p>Replace an orders with a new one.</p>

<p><strong>Request Details</strong></p>

<table class="striped">
            <thead>
              <tr>
                <th class="sortable">Key<i class="fa fa-sort-down"></i><i class="fa fa-sort-up"></i></th>
                <th class="sortable">Type<i class="fa fa-sort-down"></i><i class="fa fa-sort-up"></i></th>
                <th class="sortable">Description<i class="fa fa-sort-down"></i><i class="fa fa-sort-up"></i></th>
              </tr>
            </thead>
            <tbody>

            <tr>
              <td><strong>order_id</strong></td>
              <td>[int]</td>
              <td>The order ID (to be replaced) given by `/order/new`.</td>
            </tr>
            <tr>
              <td><strong>symbol</strong></td>
              <td>[string]</td>
              <td>The name of the symbol (see `/symbols`).</td>
            </tr>
            <tr>
              <td><strong>amount</strong></td>
              <td>[decimal]</td>
              <td>Order size: how much to buy or sell.</td>
            </tr>
            <tr>
              <td><strong>price</strong></td>
              <td>[price]</td>
              <td>Price to buy or sell at. May omit if a market order.</td>
            </tr>
            <tr>
              <td><strong>exchange</strong></td>
              <td>[string]</td>
              <td>&ldquo;bitfinex&rdquo;, &ldquo;bitstamp&rdquo;, &ldquo;all&rdquo; (for no routing).</td>
            </tr>
            <tr>
              <td><strong>side</strong></td>
              <td>[string]</td>
              <td>Either &ldquo;buy&rdquo; or &ldquo;sell&rdquo;.</td>
            </tr>
            <tr>
              <td><strong>type</strong></td>
              <td>[string]</td>
              <td>Either &ldquo;market&rdquo; / &ldquo;limit&rdquo; / &ldquo;stop&rdquo; / &ldquo;trailing-stop&rdquo; / &ldquo;fill-or-kill&rdquo; / &ldquo;exchange market&rdquo; / &ldquo;exchange limit&rdquo; / &ldquo;exchange stop&rdquo; / &ldquo;exchange trailing-stop&rdquo; / &ldquo;exchange fill-or-kill&rdquo;. (type starting by &ldquo;exchange &rdquo; are exchange orders, others are margin trading orders)</td>
            </tr>
            <tr>
              <td><strong>is_hidden</strong></td>
              <td>[bool]</td>
              <td>true if the order should be hidden. Default is false.</td>
            </tr>
            </tbody>
            </table>

<p><strong>Response Details</strong></p>

<table class="striped">
            <thead>
              <tr>
                <th class="sortable">Key<i class="fa fa-sort-down"></i><i class="fa fa-sort-up"></i></th>
                <th class="sortable">Type<i class="fa fa-sort-down"></i><i class="fa fa-sort-up"></i></th>
                <th class="sortable">Description<i class="fa fa-sort-down"></i><i class="fa fa-sort-up"></i></th>
              </tr>
            </thead>
            <tbody>

            <tr>
              <td><strong>order_id</strong></td>
              <td>[int]</td>
              <td>A randomly generated ID for the order and the information given by /order/status.</td>
            </tr>
            </tbody>
            </table>

<h4 id="order-status">Order status</h4>

<blockquote>
<p><strong>Request</strong></p>
</blockquote>
<pre class="highlight javascript"><code><span class="kd">var</span> <span class="nx">payload</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s2">"order_id"</span><span class="p">:</span> <span class="mi">448411153</span><span class="p">,</span>
  <span class="s2">"request"</span><span class="p">:</span> <span class="s2">"/v1/order/status"</span><span class="p">,</span>
  <span class="s2">"nonce"</span><span class="p">:</span> <span class="nb">Date</span><span class="p">.</span><span class="nx">now</span><span class="p">().</span><span class="nx">toString</span><span class="p">()</span>
<span class="p">};</span>
<span class="nx">payload</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Buffer</span><span class="p">(</span><span class="nx">JSON</span><span class="p">.</span><span class="nx">stringify</span><span class="p">(</span><span class="nx">payload</span><span class="p">)).</span><span class="nx">toString</span><span class="p">(</span><span class="s1">'base64'</span><span class="p">);</span>
<span class="kd">var</span> <span class="nx">signature</span> <span class="o">=</span> <span class="nx">crypto</span><span class="p">.</span><span class="nx">createHmac</span><span class="p">(</span><span class="s2">"sha384"</span><span class="p">,</span> <span class="nx">api_secret</span><span class="p">).</span><span class="nx">update</span><span class="p">(</span><span class="nx">payload</span><span class="p">).</span><span class="nx">digest</span><span class="p">(</span><span class="s1">'hex'</span><span class="p">);</span>
<span class="kd">var</span> <span class="nx">options</span> <span class="o">=</span> <span class="p">{</span>
  <span class="na">url</span><span class="p">:</span> <span class="s2">"/order/status"</span><span class="p">,</span>
  <span class="na">headers</span><span class="p">:</span> <span class="p">{</span>
    <span class="s1">'X-BFX-PAYLOAD'</span><span class="p">:</span> <span class="nx">payload</span><span class="p">,</span>
    <span class="s1">'X-BFX-SIGNATURE'</span><span class="p">:</span> <span class="nx">signature</span>
  <span class="p">},</span>
  <span class="na">body</span><span class="p">:</span> <span class="nx">payload</span>
<span class="p">};</span>
<span class="nx">baseRequest</span><span class="p">.</span><span class="nx">post</span><span class="p">(</span><span class="nx">options</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span><span class="nx">error</span><span class="p">,</span> <span class="nx">response</span><span class="p">,</span> <span class="nx">body</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">body</span><span class="p">);</span>
<span class="p">});</span>
</code></pre>

<blockquote>
<p><strong>Response</strong></p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"id"</span><span class="p">:</span><span class="mi">448411153</span><span class="p">,</span><span class="w">
  </span><span class="nt">"symbol"</span><span class="p">:</span><span class="s2">"btcusd"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"exchange"</span><span class="p">:</span><span class="kc">null</span><span class="p">,</span><span class="w">
  </span><span class="nt">"price"</span><span class="p">:</span><span class="s2">"0.01"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"avg_execution_price"</span><span class="p">:</span><span class="s2">"0.0"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"side"</span><span class="p">:</span><span class="s2">"buy"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"type"</span><span class="p">:</span><span class="s2">"exchange limit"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"timestamp"</span><span class="p">:</span><span class="s2">"1444276570.0"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"is_live"</span><span class="p">:</span><span class="kc">false</span><span class="p">,</span><span class="w">
  </span><span class="nt">"is_cancelled"</span><span class="p">:</span><span class="kc">true</span><span class="p">,</span><span class="w">
  </span><span class="nt">"is_hidden"</span><span class="p">:</span><span class="kc">false</span><span class="p">,</span><span class="w">
  </span><span class="nt">"was_forced"</span><span class="p">:</span><span class="kc">false</span><span class="p">,</span><span class="w">
  </span><span class="nt">"original_amount"</span><span class="p">:</span><span class="s2">"0.01"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"remaining_amount"</span><span class="p">:</span><span class="s2">"0.01"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"executed_amount"</span><span class="p">:</span><span class="s2">"0.0"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p><strong>Endpoint</strong></p>

<p><code class="prettyprint">/order/status</code></p>

<p><strong>Description</strong></p>

<p>Get the status of an order. Is it active? Was it cancelled? To what extent has it been executed? etc.</p>

<p><strong>Request Details</strong></p>

<table class="striped">
            <thead>
              <tr>
                <th class="sortable">Key<i class="fa fa-sort-down"></i><i class="fa fa-sort-up"></i></th>
                <th class="sortable">Type<i class="fa fa-sort-down"></i><i class="fa fa-sort-up"></i></th>
                <th class="sortable">Description<i class="fa fa-sort-down"></i><i class="fa fa-sort-up"></i></th>
              </tr>
            </thead>
            <tbody>

            <tr>
              <td><strong>order_id</strong></td>
              <td>[int]</td>
              <td>The order ID given by `/order/new`</td>
            </tr>
            </tbody>
            </table>

<p><strong>Response Details</strong></p>

<table class="striped">
            <thead>
              <tr>
                <th class="sortable">Key<i class="fa fa-sort-down"></i><i class="fa fa-sort-up"></i></th>
                <th class="sortable">Type<i class="fa fa-sort-down"></i><i class="fa fa-sort-up"></i></th>
                <th class="sortable">Description<i class="fa fa-sort-down"></i><i class="fa fa-sort-up"></i></th>
              </tr>
            </thead>
            <tbody>

            <tr>
              <td><strong>symbol</strong></td>
              <td>[string]</td>
              <td>The symbol name the order belongs to.</td>
            </tr>
            <tr>
              <td><strong>exchange</strong></td>
              <td>[string]</td>
              <td>&ldquo;bitfinex&rdquo;, &ldquo;bitstamp&rdquo;.</td>
            </tr>
            <tr>
              <td><strong>price</strong></td>
              <td>[decimal]</td>
              <td>The price the order was issued at (can be null for market orders).</td>
            </tr>
            <tr>
              <td><strong>avg_execution_price</strong></td>
              <td>[decimal]</td>
              <td>The average price at which this order as been executed so far. 0 if the order has not been executed at all.</td>
            </tr>
            <tr>
              <td><strong>side</strong></td>
              <td>[string]</td>
              <td>Either &ldquo;buy&rdquo; or &ldquo;sell&rdquo;.</td>
            </tr>
            <tr>
              <td><strong>type</strong></td>
              <td>[string]</td>
              <td>Either &ldquo;market&rdquo; / &ldquo;limit&rdquo; / &ldquo;stop&rdquo; / &ldquo;trailing-stop&rdquo;.</td>
            </tr>
            <tr>
              <td><strong>timestamp</strong></td>
              <td>[time]</td>
              <td>The timestamp the order was submitted.</td>
            </tr>
            <tr>
              <td><strong>is_live</strong></td>
              <td>[bool]</td>
              <td>Could the order still be filled?</td>
            </tr>
            <tr>
              <td><strong>is_cancelled</strong></td>
              <td>[bool]</td>
              <td>Has the order been cancelled?</td>
            </tr>
            <tr>
              <td><strong>is_hidden</strong></td>
              <td>[bool]</td>
              <td>Is the order hidden?</td>
            </tr>
            <tr>
              <td><strong>was_forced</strong></td>
              <td>[bool]</td>
              <td>For margin only true if it was forced by the system.</td>
            </tr>
            <tr>
              <td><strong>executed_amount</strong></td>
              <td>[decimal]</td>
              <td>How much of the order has been executed so far in its history?</td>
            </tr>
            <tr>
              <td><strong>remaining_amount</strong></td>
              <td>[decimal]</td>
              <td>How much is still remaining to be submitted?</td>
            </tr>
            <tr>
              <td><strong>original_amount</strong></td>
              <td>[decimal]</td>
              <td>What was the order originally submitted for?</td>
            </tr>

            </tbody>
            </table>

<h4 id="active-orders">Active orders</h4>

<blockquote>
<p><strong>Request</strong></p>
</blockquote>
<pre class="highlight javascript"><code><span class="kd">var</span> <span class="nx">payload</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s2">"request"</span><span class="p">:</span> <span class="s2">"/v1/orders"</span><span class="p">,</span>
  <span class="s2">"nonce"</span><span class="p">:</span> <span class="nb">Date</span><span class="p">.</span><span class="nx">now</span><span class="p">().</span><span class="nx">toString</span><span class="p">()</span>
<span class="p">};</span>
<span class="nx">payload</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Buffer</span><span class="p">(</span><span class="nx">JSON</span><span class="p">.</span><span class="nx">stringify</span><span class="p">(</span><span class="nx">payload</span><span class="p">)).</span><span class="nx">toString</span><span class="p">(</span><span class="s1">'base64'</span><span class="p">);</span>
<span class="kd">var</span> <span class="nx">signature</span> <span class="o">=</span> <span class="nx">crypto</span><span class="p">.</span><span class="nx">createHmac</span><span class="p">(</span><span class="s2">"sha384"</span><span class="p">,</span> <span class="nx">api_secret</span><span class="p">).</span><span class="nx">update</span><span class="p">(</span><span class="nx">payload</span><span class="p">).</span><span class="nx">digest</span><span class="p">(</span><span class="s1">'hex'</span><span class="p">);</span>
<span class="kd">var</span> <span class="nx">options</span> <span class="o">=</span> <span class="p">{</span>
  <span class="na">url</span><span class="p">:</span> <span class="s2">"/orders"</span><span class="p">,</span>
  <span class="na">headers</span><span class="p">:</span> <span class="p">{</span>
    <span class="s1">'X-BFX-PAYLOAD'</span><span class="p">:</span> <span class="nx">payload</span><span class="p">,</span>
    <span class="s1">'X-BFX-SIGNATURE'</span><span class="p">:</span> <span class="nx">signature</span>
  <span class="p">},</span>
  <span class="na">body</span><span class="p">:</span> <span class="nx">payload</span>
<span class="p">};</span>
<span class="nx">baseRequest</span><span class="p">.</span><span class="nx">post</span><span class="p">(</span><span class="nx">options</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span><span class="nx">error</span><span class="p">,</span> <span class="nx">response</span><span class="p">,</span> <span class="nx">body</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">body</span><span class="p">);</span>
<span class="p">});</span>
</code></pre>

<blockquote>
<p><strong>Response</strong></p>
</blockquote>
<pre class="highlight json"><code><span class="p">[{</span><span class="w">
  </span><span class="nt">"id"</span><span class="p">:</span><span class="mi">448411365</span><span class="p">,</span><span class="w">
  </span><span class="nt">"symbol"</span><span class="p">:</span><span class="s2">"btcusd"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"exchange"</span><span class="p">:</span><span class="s2">"bitfinex"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"price"</span><span class="p">:</span><span class="s2">"0.02"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"avg_execution_price"</span><span class="p">:</span><span class="s2">"0.0"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"side"</span><span class="p">:</span><span class="s2">"buy"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"type"</span><span class="p">:</span><span class="s2">"exchange limit"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"timestamp"</span><span class="p">:</span><span class="s2">"1444276597.0"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"is_live"</span><span class="p">:</span><span class="kc">true</span><span class="p">,</span><span class="w">
  </span><span class="nt">"is_cancelled"</span><span class="p">:</span><span class="kc">false</span><span class="p">,</span><span class="w">
  </span><span class="nt">"is_hidden"</span><span class="p">:</span><span class="kc">false</span><span class="p">,</span><span class="w">
  </span><span class="nt">"was_forced"</span><span class="p">:</span><span class="kc">false</span><span class="p">,</span><span class="w">
  </span><span class="nt">"original_amount"</span><span class="p">:</span><span class="s2">"0.02"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"remaining_amount"</span><span class="p">:</span><span class="s2">"0.02"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"executed_amount"</span><span class="p">:</span><span class="s2">"0.0"</span><span class="w">
</span><span class="p">}]</span><span class="w">
</span></code></pre>

<p><strong>Endpoint</strong></p>

<p><code class="prettyprint">/orders</code></p>

<p><strong>Description</strong></p>

<p>View your active orders.</p>

<p><strong>Response Details</strong></p>

<p>An array of the results of <code class="prettyprint">/order/status</code> for all your live orders.</p>

<h3 id="positions">Positions</h3>

<h4 id="active-positions">Active Positions</h4>

<blockquote>
<p><strong>Request</strong></p>
</blockquote>
<pre class="highlight javascript"><code><span class="kd">var</span> <span class="nx">payload</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s2">"request"</span><span class="p">:</span> <span class="s2">"/v1/positions"</span><span class="p">,</span>
  <span class="s2">"nonce"</span><span class="p">:</span> <span class="nb">Date</span><span class="p">.</span><span class="nx">now</span><span class="p">().</span><span class="nx">toString</span><span class="p">()</span>
<span class="p">};</span>
<span class="nx">payload</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Buffer</span><span class="p">(</span><span class="nx">JSON</span><span class="p">.</span><span class="nx">stringify</span><span class="p">(</span><span class="nx">payload</span><span class="p">)).</span><span class="nx">toString</span><span class="p">(</span><span class="s1">'base64'</span><span class="p">);</span>
<span class="kd">var</span> <span class="nx">signature</span> <span class="o">=</span> <span class="nx">crypto</span><span class="p">.</span><span class="nx">createHmac</span><span class="p">(</span><span class="s2">"sha384"</span><span class="p">,</span> <span class="nx">api_secret</span><span class="p">).</span><span class="nx">update</span><span class="p">(</span><span class="nx">payload</span><span class="p">).</span><span class="nx">digest</span><span class="p">(</span><span class="s1">'hex'</span><span class="p">);</span>
<span class="kd">var</span> <span class="nx">options</span> <span class="o">=</span> <span class="p">{</span>
  <span class="na">url</span><span class="p">:</span> <span class="s2">"/positions"</span><span class="p">,</span>
  <span class="na">headers</span><span class="p">:</span> <span class="p">{</span>
    <span class="s1">'X-BFX-PAYLOAD'</span><span class="p">:</span> <span class="nx">payload</span><span class="p">,</span>
    <span class="s1">'X-BFX-SIGNATURE'</span><span class="p">:</span> <span class="nx">signature</span>
  <span class="p">},</span>
  <span class="na">body</span><span class="p">:</span> <span class="nx">payload</span>
<span class="p">};</span>
<span class="nx">baseRequest</span><span class="p">.</span><span class="nx">post</span><span class="p">(</span><span class="nx">options</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span><span class="nx">error</span><span class="p">,</span> <span class="nx">response</span><span class="p">,</span> <span class="nx">body</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">body</span><span class="p">);</span>
<span class="p">});</span>
</code></pre>

<blockquote>
<p><strong>Response</strong></p>
</blockquote>
<pre class="highlight json"><code><span class="p">[{</span><span class="w">
  </span><span class="nt">"id"</span><span class="p">:</span><span class="mi">943715</span><span class="p">,</span><span class="w">
  </span><span class="nt">"symbol"</span><span class="p">:</span><span class="s2">"btcusd"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"status"</span><span class="p">:</span><span class="s2">"ACTIVE"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"base"</span><span class="p">:</span><span class="s2">"246.94"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"amount"</span><span class="p">:</span><span class="s2">"1.0"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"timestamp"</span><span class="p">:</span><span class="s2">"1444141857.0"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"swap"</span><span class="p">:</span><span class="s2">"0.0"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"pl"</span><span class="p">:</span><span class="s2">"-2.22042"</span><span class="w">
</span><span class="p">}]</span><span class="w">
</span></code></pre>

<p><strong>Endpoint</strong></p>

<p><code class="prettyprint">/positions</code></p>

<p><strong>Description</strong></p>

<p>View your active positions.</p>

<p><strong>Response Details</strong></p>

<p>An array of your active positions.</p>

<h4 id="claim-position">Claim position</h4>

<blockquote>
<p><strong>Request</strong></p>
</blockquote>
<pre class="highlight javascript"><code><span class="kd">var</span> <span class="nx">payload</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s2">"request"</span><span class="p">:</span> <span class="s2">"/v1/position/claim"</span><span class="p">,</span>
  <span class="s2">"nonce"</span><span class="p">:</span> <span class="nb">Date</span><span class="p">.</span><span class="nx">now</span><span class="p">().</span><span class="nx">toString</span><span class="p">(),</span>
  <span class="s2">"position_id"</span><span class="p">:</span> <span class="mi">943715</span>
<span class="p">};</span>
<span class="nx">payload</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Buffer</span><span class="p">(</span><span class="nx">JSON</span><span class="p">.</span><span class="nx">stringify</span><span class="p">(</span><span class="nx">payload</span><span class="p">)).</span><span class="nx">toString</span><span class="p">(</span><span class="s1">'base64'</span><span class="p">);</span>
<span class="kd">var</span> <span class="nx">signature</span> <span class="o">=</span> <span class="nx">crypto</span><span class="p">.</span><span class="nx">createHmac</span><span class="p">(</span><span class="s2">"sha384"</span><span class="p">,</span> <span class="nx">api_secret</span><span class="p">).</span><span class="nx">update</span><span class="p">(</span><span class="nx">payload</span><span class="p">).</span><span class="nx">digest</span><span class="p">(</span><span class="s1">'hex'</span><span class="p">);</span>
<span class="kd">var</span> <span class="nx">options</span> <span class="o">=</span> <span class="p">{</span>
  <span class="na">url</span><span class="p">:</span> <span class="s2">"/position/claim"</span><span class="p">,</span>
  <span class="na">headers</span><span class="p">:</span> <span class="p">{</span>
    <span class="s1">'X-BFX-PAYLOAD'</span><span class="p">:</span> <span class="nx">payload</span><span class="p">,</span>
    <span class="s1">'X-BFX-SIGNATURE'</span><span class="p">:</span> <span class="nx">signature</span>
  <span class="p">},</span>
  <span class="na">body</span><span class="p">:</span> <span class="nx">payload</span>
<span class="p">};</span>
<span class="nx">baseRequest</span><span class="p">.</span><span class="nx">post</span><span class="p">(</span><span class="nx">options</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span><span class="nx">error</span><span class="p">,</span> <span class="nx">response</span><span class="p">,</span> <span class="nx">body</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">body</span><span class="p">);</span>
<span class="p">});</span>
</code></pre>

<blockquote>
<p><strong>Response</strong></p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"id"</span><span class="p">:</span><span class="mi">943715</span><span class="p">,</span><span class="w">
  </span><span class="nt">"symbol"</span><span class="p">:</span><span class="s2">"btcusd"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"status"</span><span class="p">:</span><span class="s2">"ACTIVE"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"base"</span><span class="p">:</span><span class="s2">"246.94"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"amount"</span><span class="p">:</span><span class="s2">"1.0"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"timestamp"</span><span class="p">:</span><span class="s2">"1444141857.0"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"swap"</span><span class="p">:</span><span class="s2">"0.0"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"pl"</span><span class="p">:</span><span class="s2">"-2.2304"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p><strong>Endpoint</strong></p>

<p><code class="prettyprint">/position/claim</code></p>

<p><strong>Description</strong></p>

<p>A position can be claimed if:</p>

<p>It is a long position: The amount in the last unit of the position pair that you have in your trading wallet
AND/OR the realized profit of the position is greater or equal to the purchase amount of the position
(base price * position amount) and the funds which need to be returned. For example, for a long BTCUSD position,
you can claim the position if the amount of USD you have in the trading wallet is greater than the base price * the
position amount and the funds used.</p>

<p>It is a short position: The amount in the first unit of the position pair that you have in your trading wallet is
greater or equal to the amount of the position and the margin funding used.</p>

<p><strong>Request Details</strong></p>

<table class="striped">
            <thead>
              <tr>
                <th class="sortable">Key<i class="fa fa-sort-down"></i><i class="fa fa-sort-up"></i></th>
                <th class="sortable">Type<i class="fa fa-sort-down"></i><i class="fa fa-sort-up"></i></th>
                <th class="sortable">Description<i class="fa fa-sort-down"></i><i class="fa fa-sort-up"></i></th>
              </tr>
            </thead>
            <tbody>

            <tr>
              <td><strong>position_id</strong></td>
              <td>[int]</td>
              <td>The position ID given by `/positions`.</td>
            </tr>
            </tbody>
            </table>

<p><strong>Response Details</strong></p>

<p>Status of the position for the claimed position, if the position could be claimed.</p>

<h3 id="historical-data">Historical Data</h3>

<h4 id="balance-history">Balance History</h4>

<blockquote>
<p><strong>Request</strong></p>
</blockquote>
<pre class="highlight javascript"><code><span class="kd">var</span> <span class="nx">payload</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s2">"request"</span><span class="p">:</span> <span class="s2">"/v1/history"</span><span class="p">,</span>
  <span class="s2">"nonce"</span><span class="p">:</span> <span class="nb">Date</span><span class="p">.</span><span class="nx">now</span><span class="p">().</span><span class="nx">toString</span><span class="p">(),</span>
  <span class="s2">"currency"</span><span class="p">:</span> <span class="s2">"USD"</span><span class="p">,</span>
  <span class="s2">"limit"</span><span class="p">:</span> <span class="mi">1</span>
<span class="p">};</span>
<span class="nx">payload</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Buffer</span><span class="p">(</span><span class="nx">JSON</span><span class="p">.</span><span class="nx">stringify</span><span class="p">(</span><span class="nx">payload</span><span class="p">)).</span><span class="nx">toString</span><span class="p">(</span><span class="s1">'base64'</span><span class="p">);</span>
<span class="kd">var</span> <span class="nx">signature</span> <span class="o">=</span> <span class="nx">crypto</span><span class="p">.</span><span class="nx">createHmac</span><span class="p">(</span><span class="s2">"sha384"</span><span class="p">,</span> <span class="nx">api_secret</span><span class="p">).</span><span class="nx">update</span><span class="p">(</span><span class="nx">payload</span><span class="p">).</span><span class="nx">digest</span><span class="p">(</span><span class="s1">'hex'</span><span class="p">);</span>
<span class="kd">var</span> <span class="nx">options</span> <span class="o">=</span> <span class="p">{</span>
  <span class="na">url</span><span class="p">:</span> <span class="s2">"/history"</span><span class="p">,</span>
  <span class="na">headers</span><span class="p">:</span> <span class="p">{</span>
    <span class="s1">'X-BFX-PAYLOAD'</span><span class="p">:</span> <span class="nx">payload</span><span class="p">,</span>
    <span class="s1">'X-BFX-SIGNATURE'</span><span class="p">:</span> <span class="nx">signature</span>
  <span class="p">},</span>
  <span class="na">body</span><span class="p">:</span> <span class="nx">payload</span>
<span class="p">};</span>
<span class="nx">baseRequest</span><span class="p">.</span><span class="nx">post</span><span class="p">(</span><span class="nx">options</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span><span class="nx">error</span><span class="p">,</span> <span class="nx">response</span><span class="p">,</span> <span class="nx">body</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">body</span><span class="p">);</span>
<span class="p">});</span>
</code></pre>

<blockquote>
<p><strong>Response</strong></p>
</blockquote>
<pre class="highlight json"><code><span class="p">[{</span><span class="w">
  </span><span class="nt">"currency"</span><span class="p">:</span><span class="s2">"USD"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"amount"</span><span class="p">:</span><span class="s2">"-246.94"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"balance"</span><span class="p">:</span><span class="s2">"515.4476526"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"description"</span><span class="p">:</span><span class="s2">"Position claimed @ 245.2 on wallet trading"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"timestamp"</span><span class="p">:</span><span class="s2">"1444277602.0"</span><span class="w">
</span><span class="p">}]</span><span class="w">
</span></code></pre>

<p><strong>Endpoint</strong></p>

<p><code class="prettyprint">/history</code></p>

<p><strong>Description</strong></p>

<p>View all of your balance ledger entries.</p>

<p><strong>Request Details</strong></p>

<table class="striped">
          <thead>
            <tr>
              <th class="sortable">Key<i class="fa fa-sort-down"></i><i class="fa fa-sort-up"></i></th>
              <th class="sortable">Type<i class="fa fa-sort-down"></i><i class="fa fa-sort-up"></i></th>
              <th class="sortable">Description<i class="fa fa-sort-down"></i><i class="fa fa-sort-up"></i></th>
            </tr>
          </thead>
          <tbody>

          <tr>
            <td><strong>currency</strong></td>
            <td>[string]</td>
            <td>The currency to look for.</td>
          </tr>
          <tr>
            <td><strong>since</strong></td>
            <td>[time]</td>
            <td>Optional. Return only the history after this timestamp.</td>
          </tr>
          <tr>
            <td><strong>until</strong></td>
            <td>[time]</td>
            <td>Optional. Return only the history before this timestamp.</td>
          </tr>
          <tr>
            <td><strong>limit</strong></td>
            <td>[int]</td>
            <td>Optional. Limit the number of entries to return. Default is 500.</td>
          </tr>
          <tr>
            <td><strong>wallet</strong></td>
            <td>[string]</td>
            <td>Optional. Return only entries that took place in this wallet. Accepted inputs are: &ldquo;trading&rdquo;, &ldquo;exchange&rdquo;, &ldquo;deposit&rdquo;.</td>
          </tr>
          </tbody>
          </table>

<p><strong>Response Details</strong></p>

<table class="striped">
          <thead>
            <tr>
              <th class="sortable">Key<i class="fa fa-sort-down"></i><i class="fa fa-sort-up"></i></th>
              <th class="sortable">Type<i class="fa fa-sort-down"></i><i class="fa fa-sort-up"></i></th>
              <th class="sortable">Description<i class="fa fa-sort-down"></i><i class="fa fa-sort-up"></i></th>
            </tr>
          </thead>
          <tbody>

          <tr>
            <td><strong>currency</strong></td>
            <td>[string]</td>
            <td>Currency</td>
          </tr>
          <tr>
            <td><strong>amount</strong></td>
            <td>[decimal]</td>
            <td>Positive (credit) or negative (debit)</td>
          </tr>
          <tr>
            <td><strong>balance</strong></td>
            <td>[decimal]</td>
            <td>Wallet balance after the current entry</td>
          </tr>
          <tr>
            <td><strong>description</strong></td>
            <td>[string]</td>
            <td>Description of the entry. Includes the wallet in which the operation took place</td>
          </tr>
          <tr>
            <td><strong>timestamp</strong></td>
            <td>[time]</td>
            <td>Timestamp of the entry</td>
          </tr>

          </tbody>
          </table>

<h4 id="deposit-withdrawal-history">Deposit-Withdrawal History</h4>

<blockquote>
<p><strong>Request</strong></p>
</blockquote>
<pre class="highlight javascript"><code><span class="kd">var</span> <span class="nx">payload</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s2">"request"</span><span class="p">:</span> <span class="s2">"/v1/history/movements"</span><span class="p">,</span>
  <span class="s2">"nonce"</span><span class="p">:</span> <span class="nb">Date</span><span class="p">.</span><span class="nx">now</span><span class="p">().</span><span class="nx">toString</span><span class="p">(),</span>
  <span class="s2">"currency"</span><span class="p">:</span> <span class="s2">"BTC"</span><span class="p">,</span>
  <span class="s2">"limit"</span><span class="p">:</span> <span class="mi">1</span>
<span class="p">};</span>
<span class="nx">payload</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Buffer</span><span class="p">(</span><span class="nx">JSON</span><span class="p">.</span><span class="nx">stringify</span><span class="p">(</span><span class="nx">payload</span><span class="p">)).</span><span class="nx">toString</span><span class="p">(</span><span class="s1">'base64'</span><span class="p">);</span>
<span class="kd">var</span> <span class="nx">signature</span> <span class="o">=</span> <span class="nx">crypto</span><span class="p">.</span><span class="nx">createHmac</span><span class="p">(</span><span class="s2">"sha384"</span><span class="p">,</span> <span class="nx">api_secret</span><span class="p">).</span><span class="nx">update</span><span class="p">(</span><span class="nx">payload</span><span class="p">).</span><span class="nx">digest</span><span class="p">(</span><span class="s1">'hex'</span><span class="p">);</span>
<span class="kd">var</span> <span class="nx">options</span> <span class="o">=</span> <span class="p">{</span>
  <span class="na">url</span><span class="p">:</span> <span class="s2">"/history/movements"</span><span class="p">,</span>
  <span class="na">headers</span><span class="p">:</span> <span class="p">{</span>
    <span class="s1">'X-BFX-PAYLOAD'</span><span class="p">:</span> <span class="nx">payload</span><span class="p">,</span>
    <span class="s1">'X-BFX-SIGNATURE'</span><span class="p">:</span> <span class="nx">signature</span>
  <span class="p">},</span>
  <span class="na">body</span><span class="p">:</span> <span class="nx">payload</span>
<span class="p">};</span>
<span class="nx">baseRequest</span><span class="p">.</span><span class="nx">post</span><span class="p">(</span><span class="nx">options</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span><span class="nx">error</span><span class="p">,</span> <span class="nx">response</span><span class="p">,</span> <span class="nx">body</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">body</span><span class="p">);</span>
<span class="p">});</span>
</code></pre>

<blockquote>
<p><strong>Response</strong></p>
</blockquote>
<pre class="highlight json"><code><span class="p">[{</span><span class="w">
  </span><span class="nt">"id"</span><span class="p">:</span><span class="mi">581183</span><span class="p">,</span><span class="w">
  </span><span class="nt">"currency"</span><span class="p">:</span><span class="s2">"BTC"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"method"</span><span class="p">:</span><span class="s2">"BITCOIN"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"type"</span><span class="p">:</span><span class="s2">"WITHDRAWAL"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"amount"</span><span class="p">:</span><span class="s2">".01"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"description"</span><span class="p">:</span><span class="s2">"3QXYWgRGX2BPYBpUDBssGbeWEa5zq6snBZ, offchain transfer "</span><span class="p">,</span><span class="w">
  </span><span class="nt">"status"</span><span class="p">:</span><span class="s2">"COMPLETED"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"timestamp"</span><span class="p">:</span><span class="s2">"1443833327.0"</span><span class="w">
</span><span class="p">}]</span><span class="w">
</span></code></pre>

<p><strong>Endpoint</strong></p>

<p><code class="prettyprint">/history/movements</code></p>

<p><strong>Description</strong></p>

<p>View your past deposits/withdrawals.</p>

<p><strong>Request Details</strong></p>

<table class="striped">
          <thead>
            <tr>
              <th class="sortable">Key<i class="fa fa-sort-down"></i><i class="fa fa-sort-up"></i></th>
              <th class="sortable">Type<i class="fa fa-sort-down"></i><i class="fa fa-sort-up"></i></th>
              <th class="sortable">Description<i class="fa fa-sort-down"></i><i class="fa fa-sort-up"></i></th>
            </tr>
          </thead>
          <tbody>

          <tr>
            <td><strong>currency</strong></td>
            <td>[string]</td>
            <td>The currency to look for.</td>
          </tr>
          <tr>
            <td><strong>method</strong></td>
            <td>[string]</td>
            <td>Optional. The method of the deposit/withdrawal (can be &ldquo;bitcoin&rdquo;, &ldquo;litecoin&rdquo;, &ldquo;darkcoin&rdquo;, &ldquo;wire&rdquo;).</td>
          </tr>
          <tr>
            <td><strong>since</strong></td>
            <td>[time]</td>
            <td>Optional. Return only the history after this timestamp.</td>
          </tr>
          <tr>
            <td><strong>until</strong></td>
            <td>[time]</td>
            <td>Optional. Return only the history before this timestamp.</td>
          </tr>
          <tr>
            <td><strong>limit</strong></td>
            <td>[int]</td>
            <td>Optional. Limit the number of entries to return. Default is 500.</td>
          </tr>
          </tbody>
          </table>

<p><strong>Response Details</strong></p>

<p>An array of histories</p>

<table class="striped">
          <thead>
            <tr>
              <th class="sortable">Key<i class="fa fa-sort-down"></i><i class="fa fa-sort-up"></i></th>
              <th class="sortable">Type<i class="fa fa-sort-down"></i><i class="fa fa-sort-up"></i></th>
              <th class="sortable">Description<i class="fa fa-sort-down"></i><i class="fa fa-sort-up"></i></th>
            </tr>
          </thead>
          <tbody>

          <tr>
            <td><strong>currency</strong></td>
            <td>[string]</td>
            <td></td>
          </tr>
          <tr>
            <td><strong>method</strong></td>
            <td>[string]</td>
            <td></td>
          </tr>
          <tr>
            <td><strong>type</strong></td>
            <td>[string]</td>
            <td></td>
          </tr>
          <tr>
            <td><strong>amount</strong></td>
            <td>[decimal]</td>
            <td>Absolute value of the movement</td>
          </tr>
          <tr>
            <td><strong>description</strong></td>
            <td>[string]</td>
            <td>Description of the movement (txid, destination address,,,,)</td>
          </tr>
          <tr>
            <td><strong>status</strong></td>
            <td>[string]</td>
            <td>Status of the movement</td>
          </tr>
          <tr>
            <td><strong>timestamp</strong></td>
            <td>[time]</td>
            <td>Timestamp of the movement</td>
          </tr>

          </tbody>
          </table>

<h4 id="past-trades">Past Trades</h4>

<blockquote>
<p><strong>Request</strong></p>
</blockquote>
<pre class="highlight javascript"><code><span class="kd">var</span> <span class="nx">payload</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s2">"request"</span><span class="p">:</span> <span class="s2">"/v1/mytrades"</span><span class="p">,</span>
  <span class="s2">"nonce"</span><span class="p">:</span> <span class="nb">Date</span><span class="p">.</span><span class="nx">now</span><span class="p">().</span><span class="nx">toString</span><span class="p">(),</span>
  <span class="s2">"symbol"</span><span class="p">:</span> <span class="s2">"BTCUSD"</span><span class="p">,</span>
  <span class="s2">"limit_trades"</span><span class="p">:</span> <span class="mi">1</span>
<span class="p">};</span>
<span class="nx">payload</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Buffer</span><span class="p">(</span><span class="nx">JSON</span><span class="p">.</span><span class="nx">stringify</span><span class="p">(</span><span class="nx">payload</span><span class="p">)).</span><span class="nx">toString</span><span class="p">(</span><span class="s1">'base64'</span><span class="p">);</span>
<span class="kd">var</span> <span class="nx">signature</span> <span class="o">=</span> <span class="nx">crypto</span><span class="p">.</span><span class="nx">createHmac</span><span class="p">(</span><span class="s2">"sha384"</span><span class="p">,</span> <span class="nx">api_secret</span><span class="p">).</span><span class="nx">update</span><span class="p">(</span><span class="nx">payload</span><span class="p">).</span><span class="nx">digest</span><span class="p">(</span><span class="s1">'hex'</span><span class="p">);</span>
<span class="kd">var</span> <span class="nx">options</span> <span class="o">=</span> <span class="p">{</span>
  <span class="na">url</span><span class="p">:</span> <span class="s2">"/mytrades"</span><span class="p">,</span>
  <span class="na">headers</span><span class="p">:</span> <span class="p">{</span>
    <span class="s1">'X-BFX-PAYLOAD'</span><span class="p">:</span> <span class="nx">payload</span><span class="p">,</span>
    <span class="s1">'X-BFX-SIGNATURE'</span><span class="p">:</span> <span class="nx">signature</span>
  <span class="p">},</span>
  <span class="na">body</span><span class="p">:</span> <span class="nx">payload</span>
<span class="p">};</span>
<span class="nx">baseRequest</span><span class="p">.</span><span class="nx">post</span><span class="p">(</span><span class="nx">options</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span><span class="nx">error</span><span class="p">,</span> <span class="nx">response</span><span class="p">,</span> <span class="nx">body</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">body</span><span class="p">);</span>
<span class="p">});</span>
</code></pre>

<blockquote>
<p><strong>Response</strong></p>
</blockquote>
<pre class="highlight json"><code><span class="p">[{</span><span class="w">
  </span><span class="nt">"price"</span><span class="p">:</span><span class="s2">"246.94"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"amount"</span><span class="p">:</span><span class="s2">"1.0"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"timestamp"</span><span class="p">:</span><span class="s2">"1444141857.0"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"exchange"</span><span class="p">:</span><span class="s2">""</span><span class="p">,</span><span class="w">
  </span><span class="nt">"type"</span><span class="p">:</span><span class="s2">"Buy"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"fee_currency"</span><span class="p">:</span><span class="s2">"USD"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"fee_amount"</span><span class="p">:</span><span class="s2">"-0.49388"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"tid"</span><span class="p">:</span><span class="mi">11970839</span><span class="p">,</span><span class="w">
  </span><span class="nt">"order_id"</span><span class="p">:</span><span class="mi">446913929</span><span class="w">
</span><span class="p">}]</span><span class="w">
</span></code></pre>

<p><strong>Endpoint</strong></p>

<p><code class="prettyprint">/mytrades</code></p>

<p><strong>Description</strong></p>

<p>View your past trades.</p>

<p><strong>Request Details</strong></p>

<table class="striped">
          <thead>
            <tr>
              <th class="sortable">Key<i class="fa fa-sort-down"></i><i class="fa fa-sort-up"></i></th>
              <th class="sortable">Type<i class="fa fa-sort-down"></i><i class="fa fa-sort-up"></i></th>
              <th class="sortable">Description<i class="fa fa-sort-down"></i><i class="fa fa-sort-up"></i></th>
            </tr>
          </thead>
          <tbody>

          <tr>
            <td><strong>symbol</strong></td>
            <td>[string]</td>
            <td>The pair traded (BTCUSD, LTCUSD, LTCBTC).</td>
          </tr>
          <tr>
            <td><strong>timestamp</strong></td>
            <td>[time]</td>
            <td>Trades made before this timestamp won&rsquo;t be returned.</td>
          </tr>
          <tr>
            <td><strong>until</strong></td>
            <td>[time]</td>
            <td>Optional. Trades made after this timestamp won&rsquo;t be returned.</td>
          </tr>
          <tr>
            <td><strong>limit_trades</strong></td>
            <td>[int]</td>
            <td>Optional. Limit the number of trades returned. Default is 50.</td>
          </tr>
          <tr>
            <td><strong>reverse</strong></td>
            <td>[int]</td>
            <td>Optional. Return trades in reverse order (the oldest comes first). Default is returning newest trades first.</td>
          </tr>
          </tbody>
          </table>

<p><strong>Response Details</strong></p>

<p>An array of trades</p>

<table class="striped">
          <thead>
            <tr>
              <th class="sortable">Key<i class="fa fa-sort-down"></i><i class="fa fa-sort-up"></i></th>
              <th class="sortable">Type<i class="fa fa-sort-down"></i><i class="fa fa-sort-up"></i></th>
              <th class="sortable">Description<i class="fa fa-sort-down"></i><i class="fa fa-sort-up"></i></th>
            </tr>
          </thead>
          <tbody>

          <tr>
            <td><strong>price</strong></td>
            <td>[price]</td>
            <td></td>
          </tr>
          <tr>
            <td><strong>amount</strong></td>
            <td>[decimal]</td>
            <td></td>
          </tr>
          <tr>
            <td><strong>timestamp</strong></td>
            <td>[time]</td>
            <td>return only trades after or at the time specified here</td>
          </tr>
          <tr>
            <td><strong>until</strong></td>
            <td>[time]</td>
            <td>return only trades before or a the time specified here</td>
          </tr>
          <tr>
            <td><strong>exchange</strong></td>
            <td>[string]</td>
            <td></td>
          </tr>
          <tr>
            <td><strong>type</strong></td>
            <td>[string]</td>
            <td>Sell or Buy</td>
          </tr>
          <tr>
            <td><strong>fee_currency</strong></td>
            <td>[string]</td>
            <td>Currency you paid this trade&rsquo;s fee in</td>
          </tr>
          <tr>
            <td><strong>fee_amount</strong></td>
            <td>[decimal]</td>
            <td>Amount of fees you paid for this trade</td>
          </tr>
          <tr>
            <td><strong>tid</strong></td>
            <td>[integer]</td>
            <td>unique identification number of the trade</td>
          </tr>
          <tr>
            <td><strong>order_id</strong></td>
            <td>[integer]</td>
            <td>unique identification number of the parent order of the trade</td>
          </tr>

          </tbody>
          </table>

<h3 id="margin-funding">Margin Funding</h3>

<h4 id="new-offer">New Offer</h4>

<blockquote>
<p><strong>Request</strong></p>
</blockquote>
<pre class="highlight javascript"><code><span class="kd">var</span> <span class="nx">payload</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s2">"request"</span><span class="p">:</span> <span class="s2">"/v1/offer/new"</span><span class="p">,</span>
  <span class="s2">"nonce"</span><span class="p">:</span> <span class="nb">Date</span><span class="p">.</span><span class="nx">now</span><span class="p">().</span><span class="nx">toString</span><span class="p">(),</span>
  <span class="s2">"currency"</span><span class="p">:</span> <span class="s2">"USD"</span><span class="p">,</span>
  <span class="s2">"amount"</span><span class="p">:</span> <span class="s2">"50.00"</span><span class="p">,</span>
  <span class="s2">"rate"</span><span class="p">:</span> <span class="s2">"20"</span><span class="p">,</span>
  <span class="s2">"period"</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span>
  <span class="s2">"direction"</span><span class="p">:</span> <span class="s2">"lend"</span>
<span class="p">};</span>
<span class="nx">payload</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Buffer</span><span class="p">(</span><span class="nx">JSON</span><span class="p">.</span><span class="nx">stringify</span><span class="p">(</span><span class="nx">payload</span><span class="p">)).</span><span class="nx">toString</span><span class="p">(</span><span class="s1">'base64'</span><span class="p">);</span>
<span class="kd">var</span> <span class="nx">signature</span> <span class="o">=</span> <span class="nx">crypto</span><span class="p">.</span><span class="nx">createHmac</span><span class="p">(</span><span class="s2">"sha384"</span><span class="p">,</span> <span class="nx">api_secret</span><span class="p">).</span><span class="nx">update</span><span class="p">(</span><span class="nx">payload</span><span class="p">).</span><span class="nx">digest</span><span class="p">(</span><span class="s1">'hex'</span><span class="p">);</span>
<span class="kd">var</span> <span class="nx">options</span> <span class="o">=</span> <span class="p">{</span>
  <span class="na">url</span><span class="p">:</span> <span class="s2">"/offer/new"</span><span class="p">,</span>
  <span class="na">headers</span><span class="p">:</span> <span class="p">{</span>
    <span class="s1">'X-BFX-PAYLOAD'</span><span class="p">:</span> <span class="nx">payload</span><span class="p">,</span>
    <span class="s1">'X-BFX-SIGNATURE'</span><span class="p">:</span> <span class="nx">signature</span>
  <span class="p">},</span>
  <span class="na">body</span><span class="p">:</span> <span class="nx">payload</span>
<span class="p">};</span>
<span class="nx">baseRequest</span><span class="p">.</span><span class="nx">post</span><span class="p">(</span><span class="nx">options</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span><span class="nx">error</span><span class="p">,</span> <span class="nx">response</span><span class="p">,</span> <span class="nx">body</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">body</span><span class="p">);</span>
<span class="p">});</span>
</code></pre>

<blockquote>
<p><strong>Response</strong></p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"id"</span><span class="p">:</span><span class="mi">13800585</span><span class="p">,</span><span class="w">
  </span><span class="nt">"currency"</span><span class="p">:</span><span class="s2">"USD"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"rate"</span><span class="p">:</span><span class="s2">"20.0"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"period"</span><span class="p">:</span><span class="mi">2</span><span class="p">,</span><span class="w">
  </span><span class="nt">"direction"</span><span class="p">:</span><span class="s2">"lend"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"timestamp"</span><span class="p">:</span><span class="s2">"1444279698.21175971"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"is_live"</span><span class="p">:</span><span class="kc">true</span><span class="p">,</span><span class="w">
  </span><span class="nt">"is_cancelled"</span><span class="p">:</span><span class="kc">false</span><span class="p">,</span><span class="w">
  </span><span class="nt">"original_amount"</span><span class="p">:</span><span class="s2">"50.0"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"remaining_amount"</span><span class="p">:</span><span class="s2">"50.0"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"executed_amount"</span><span class="p">:</span><span class="s2">"0.0"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"offer_id"</span><span class="p">:</span><span class="mi">13800585</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p><strong>Endpoint</strong></p>

<p><code class="prettyprint">/offer/new</code></p>

<p><strong>Description</strong></p>

<p>Submit a new offer.</p>

<p><strong>Request Details</strong></p>

<table class="striped">
            <thead>
              <tr>
                <th class="sortable">Key<i class="fa fa-sort-down"></i><i class="fa fa-sort-up"></i></th>
                <th class="sortable">Type<i class="fa fa-sort-down"></i><i class="fa fa-sort-up"></i></th>
                <th class="sortable">Description<i class="fa fa-sort-down"></i><i class="fa fa-sort-up"></i></th>
              </tr>
            </thead>
            <tbody>

            <tr>
              <td><strong>currency</strong></td>
              <td>[string]</td>
              <td>The name of the currency.</td>
            </tr>
            <tr>
              <td><strong>amount</strong></td>
              <td>[decimal]</td>
              <td>Offer size: how much to lend or borrow.</td>
            </tr>
            <tr>
              <td><strong>rate</strong></td>
              <td>[decimal]</td>
              <td>Rate to lend or borrow at. <b>In percentage per 365 days</b>.</td>
            </tr>
            <tr>
              <td><strong>period</strong></td>
              <td>[integer]</td>
              <td>Number of days of the funding contract (in days)</td>
            </tr>
            <tr>
              <td><strong>direction</strong></td>
              <td>[string]</td>
              <td>Either &ldquo;lend&rdquo; or &ldquo;loan&rdquo;.</td>
            </tr>
            </tbody>
            </table>

<p><strong>Response Details</strong></p>

<table class="striped">
            <thead>
              <tr>
                <th class="sortable">Key<i class="fa fa-sort-down"></i><i class="fa fa-sort-up"></i></th>
                <th class="sortable">Type<i class="fa fa-sort-down"></i><i class="fa fa-sort-up"></i></th>
                <th class="sortable">Description<i class="fa fa-sort-down"></i><i class="fa fa-sort-up"></i></th>
              </tr>
            </thead>
            <tbody>

            <tr>
              <td><strong>offer_id</strong></td>
              <td>[int]</td>
              <td>A randomly generated ID for the offer and the information given by /offer/status</td>
            </tr>
            </tbody>
            </table>

<h4 id="cancel-offer">Cancel Offer</h4>

<blockquote>
<p><strong>Request</strong></p>
</blockquote>
<pre class="highlight javascript"><code><span class="kd">var</span> <span class="nx">payload</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s2">"request"</span><span class="p">:</span> <span class="s2">"/v1/offer/cancel"</span><span class="p">,</span>
  <span class="s2">"nonce"</span><span class="p">:</span> <span class="nb">Date</span><span class="p">.</span><span class="nx">now</span><span class="p">().</span><span class="nx">toString</span><span class="p">(),</span>
  <span class="s2">"offer_id"</span><span class="p">:</span> <span class="mi">13800585</span>
<span class="p">};</span>
<span class="nx">payload</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Buffer</span><span class="p">(</span><span class="nx">JSON</span><span class="p">.</span><span class="nx">stringify</span><span class="p">(</span><span class="nx">payload</span><span class="p">)).</span><span class="nx">toString</span><span class="p">(</span><span class="s1">'base64'</span><span class="p">);</span>
<span class="kd">var</span> <span class="nx">signature</span> <span class="o">=</span> <span class="nx">crypto</span><span class="p">.</span><span class="nx">createHmac</span><span class="p">(</span><span class="s2">"sha384"</span><span class="p">,</span> <span class="nx">api_secret</span><span class="p">).</span><span class="nx">update</span><span class="p">(</span><span class="nx">payload</span><span class="p">).</span><span class="nx">digest</span><span class="p">(</span><span class="s1">'hex'</span><span class="p">);</span>
<span class="kd">var</span> <span class="nx">options</span> <span class="o">=</span> <span class="p">{</span>
  <span class="na">url</span><span class="p">:</span> <span class="s2">"/offer/cancel"</span><span class="p">,</span>
  <span class="na">headers</span><span class="p">:</span> <span class="p">{</span>
    <span class="s1">'X-BFX-PAYLOAD'</span><span class="p">:</span> <span class="nx">payload</span><span class="p">,</span>
    <span class="s1">'X-BFX-SIGNATURE'</span><span class="p">:</span> <span class="nx">signature</span>
  <span class="p">},</span>
  <span class="na">body</span><span class="p">:</span> <span class="nx">payload</span>
<span class="p">};</span>
<span class="nx">baseRequest</span><span class="p">.</span><span class="nx">post</span><span class="p">(</span><span class="nx">options</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span><span class="nx">error</span><span class="p">,</span> <span class="nx">response</span><span class="p">,</span> <span class="nx">body</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">body</span><span class="p">);</span>
<span class="p">});</span>
</code></pre>

<blockquote>
<p><strong>Response</strong></p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"id"</span><span class="p">:</span><span class="mi">13800585</span><span class="p">,</span><span class="w">
  </span><span class="nt">"currency"</span><span class="p">:</span><span class="s2">"USD"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"rate"</span><span class="p">:</span><span class="s2">"20.0"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"period"</span><span class="p">:</span><span class="mi">2</span><span class="p">,</span><span class="w">
  </span><span class="nt">"direction"</span><span class="p">:</span><span class="s2">"lend"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"timestamp"</span><span class="p">:</span><span class="s2">"1444279698.0"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"is_live"</span><span class="p">:</span><span class="kc">true</span><span class="p">,</span><span class="w">
  </span><span class="nt">"is_cancelled"</span><span class="p">:</span><span class="kc">false</span><span class="p">,</span><span class="w">
  </span><span class="nt">"original_amount"</span><span class="p">:</span><span class="s2">"50.0"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"remaining_amount"</span><span class="p">:</span><span class="s2">"50.0"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"executed_amount"</span><span class="p">:</span><span class="s2">"0.0"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p><strong>Endpoint</strong></p>

<p><code class="prettyprint">/offer/cancel</code></p>

<p><strong>Description</strong></p>

<p>Cancel an offer.</p>

<p><strong>Request Details</strong></p>

<table class="striped">
            <thead>
              <tr>
                <th class="sortable">Key<i class="fa fa-sort-down"></i><i class="fa fa-sort-up"></i></th>
                <th class="sortable">Type<i class="fa fa-sort-down"></i><i class="fa fa-sort-up"></i></th>
                <th class="sortable">Description<i class="fa fa-sort-down"></i><i class="fa fa-sort-up"></i></th>
              </tr>
            </thead>
            <tbody>

            <tr>
              <td><strong>offer_id</strong></td>
              <td>[int]</td>
              <td>The offer ID given by `/offer/new`.</td>
            </tr>
            </tbody>
            </table>

<p><strong>Response Details</strong></p>

<p>Result of /offer/status for the cancelled offer.</p>

<h4 id="offer-status">Offer Status</h4>

<blockquote>
<p><strong>Request</strong></p>
</blockquote>
<pre class="highlight javascript"><code><span class="kd">var</span> <span class="nx">payload</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s2">"request"</span><span class="p">:</span> <span class="s2">"/v1/offer/status"</span><span class="p">,</span>
  <span class="s2">"nonce"</span><span class="p">:</span> <span class="nb">Date</span><span class="p">.</span><span class="nx">now</span><span class="p">().</span><span class="nx">toString</span><span class="p">(),</span>
  <span class="s2">"offer_id"</span><span class="p">:</span> <span class="mi">13800585</span>
<span class="p">};</span>
<span class="nx">payload</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Buffer</span><span class="p">(</span><span class="nx">JSON</span><span class="p">.</span><span class="nx">stringify</span><span class="p">(</span><span class="nx">payload</span><span class="p">)).</span><span class="nx">toString</span><span class="p">(</span><span class="s1">'base64'</span><span class="p">);</span>
<span class="kd">var</span> <span class="nx">signature</span> <span class="o">=</span> <span class="nx">crypto</span><span class="p">.</span><span class="nx">createHmac</span><span class="p">(</span><span class="s2">"sha384"</span><span class="p">,</span> <span class="nx">api_secret</span><span class="p">).</span><span class="nx">update</span><span class="p">(</span><span class="nx">payload</span><span class="p">).</span><span class="nx">digest</span><span class="p">(</span><span class="s1">'hex'</span><span class="p">);</span>
<span class="kd">var</span> <span class="nx">options</span> <span class="o">=</span> <span class="p">{</span>
  <span class="na">url</span><span class="p">:</span> <span class="s2">"/offer/status"</span><span class="p">,</span>
  <span class="na">headers</span><span class="p">:</span> <span class="p">{</span>
    <span class="s1">'X-BFX-PAYLOAD'</span><span class="p">:</span> <span class="nx">payload</span><span class="p">,</span>
    <span class="s1">'X-BFX-SIGNATURE'</span><span class="p">:</span> <span class="nx">signature</span>
  <span class="p">},</span>
  <span class="na">body</span><span class="p">:</span> <span class="nx">payload</span>
<span class="p">};</span>
<span class="nx">baseRequest</span><span class="p">.</span><span class="nx">post</span><span class="p">(</span><span class="nx">options</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span><span class="nx">error</span><span class="p">,</span> <span class="nx">response</span><span class="p">,</span> <span class="nx">body</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">body</span><span class="p">);</span>
<span class="p">});</span>
</code></pre>

<blockquote>
<p><strong>Response</strong></p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"id"</span><span class="p">:</span><span class="mi">13800585</span><span class="p">,</span><span class="w">
  </span><span class="nt">"currency"</span><span class="p">:</span><span class="s2">"USD"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"rate"</span><span class="p">:</span><span class="s2">"20.0"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"period"</span><span class="p">:</span><span class="mi">2</span><span class="p">,</span><span class="w">
  </span><span class="nt">"direction"</span><span class="p">:</span><span class="s2">"lend"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"timestamp"</span><span class="p">:</span><span class="s2">"1444279698.0"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"is_live"</span><span class="p">:</span><span class="kc">false</span><span class="p">,</span><span class="w">
  </span><span class="nt">"is_cancelled"</span><span class="p">:</span><span class="kc">true</span><span class="p">,</span><span class="w">
  </span><span class="nt">"original_amount"</span><span class="p">:</span><span class="s2">"50.0"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"remaining_amount"</span><span class="p">:</span><span class="s2">"50.0"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"executed_amount"</span><span class="p">:</span><span class="s2">"0.0"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p><strong>Endpoint</strong></p>

<p><code class="prettyprint">/offer/status</code></p>

<p><strong>Description</strong></p>

<p>Get the status of an offer. Is it active? Was it cancelled? To what extent has it been executed? etc.</p>

<p><strong>Request Details</strong></p>

<table class="striped">
            <thead>
              <tr>
                <th class="sortable">Key<i class="fa fa-sort-down"></i><i class="fa fa-sort-up"></i></th>
                <th class="sortable">Type<i class="fa fa-sort-down"></i><i class="fa fa-sort-up"></i></th>
                <th class="sortable">Description<i class="fa fa-sort-down"></i><i class="fa fa-sort-up"></i></th>
              </tr>
            </thead>
            <tbody>

            <tr>
              <td><strong>offer_id</strong></td>
              <td>[int]</td>
              <td>The offer ID given by `/offer/new`.</td>
            </tr>
            </tbody>
            </table>

<p><strong>Response Details</strong></p>

<table class="striped">
            <thead>
              <tr>
                <th class="sortable">Key<i class="fa fa-sort-down"></i><i class="fa fa-sort-up"></i></th>
                <th class="sortable">Type<i class="fa fa-sort-down"></i><i class="fa fa-sort-up"></i></th>
                <th class="sortable">Description<i class="fa fa-sort-down"></i><i class="fa fa-sort-up"></i></th>
              </tr>
            </thead>
            <tbody>

            <tr>
              <td><strong>currency</strong></td>
              <td>[string]</td>
              <td>The currency name of the offer.</td>
            </tr>
            <tr>
              <td><strong>rate</strong></td>
              <td>[decimal]</td>
              <td>The rate the offer was issued at (in % per 365 days).</td>
            </tr>
            <tr>
              <td><strong>period</strong></td>
              <td>[integer]</td>
              <td>The number of days of the offer.</td>
            </tr>
            <tr>
              <td><strong>direction</strong></td>
              <td>[string]</td>
              <td>Either &ldquo;lend&rdquo; or &ldquo;loan&rdquo;.</td>
            </tr>
            <tr>
              <td><strong>type</strong></td>
              <td>[string]</td>
              <td>Either &ldquo;market&rdquo; / &ldquo;limit&rdquo; / &ldquo;stop&rdquo; / &ldquo;trailing-stop&rdquo;.</td>
            </tr>
            <tr>
              <td><strong>timestamp</strong></td>
              <td>[time]</td>
              <td>The timestamp the offer was submitted.</td>
            </tr>
            <tr>
              <td><strong>is_live</strong></td>
              <td>[bool]</td>
              <td>Could the offer still be filled?</td>
            </tr>
            <tr>
              <td><strong>is_cancelled</strong></td>
              <td>[bool]</td>
              <td>Has the offer been cancelled?</td>
            </tr>
            <tr>
              <td><strong>executed_amount</strong></td>
              <td>[decimal]</td>
              <td>How much of the offer has been executed so far in its history?</td>
            </tr>
            <tr>
              <td><strong>remaining_amount</strong></td>
              <td>[decimal]</td>
              <td>How much is still remaining to be submitted?</td>
            </tr>
            <tr>
              <td><strong>original_amount</strong></td>
              <td>[decimal]</td>
              <td>What was the offer originally submitted for?</td>
            </tr>

            </tbody>
            </table>

<h4 id="active-credits">Active Credits</h4>

<blockquote>
<p><strong>Request</strong></p>
</blockquote>
<pre class="highlight javascript"><code><span class="kd">var</span> <span class="nx">payload</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s2">"request"</span><span class="p">:</span> <span class="s2">"/v1/offers"</span><span class="p">,</span>
  <span class="s2">"nonce"</span><span class="p">:</span> <span class="nb">Date</span><span class="p">.</span><span class="nx">now</span><span class="p">().</span><span class="nx">toString</span><span class="p">(),</span>
<span class="p">};</span>
<span class="nx">payload</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Buffer</span><span class="p">(</span><span class="nx">JSON</span><span class="p">.</span><span class="nx">stringify</span><span class="p">(</span><span class="nx">payload</span><span class="p">)).</span><span class="nx">toString</span><span class="p">(</span><span class="s1">'base64'</span><span class="p">);</span>
<span class="kd">var</span> <span class="nx">signature</span> <span class="o">=</span> <span class="nx">crypto</span><span class="p">.</span><span class="nx">createHmac</span><span class="p">(</span><span class="s2">"sha384"</span><span class="p">,</span> <span class="nx">api_secret</span><span class="p">).</span><span class="nx">update</span><span class="p">(</span><span class="nx">payload</span><span class="p">).</span><span class="nx">digest</span><span class="p">(</span><span class="s1">'hex'</span><span class="p">);</span>
<span class="kd">var</span> <span class="nx">options</span> <span class="o">=</span> <span class="p">{</span>
  <span class="na">url</span><span class="p">:</span> <span class="s2">"/offers"</span><span class="p">,</span>
  <span class="na">headers</span><span class="p">:</span> <span class="p">{</span>
    <span class="s1">'X-BFX-PAYLOAD'</span><span class="p">:</span> <span class="nx">payload</span><span class="p">,</span>
    <span class="s1">'X-BFX-SIGNATURE'</span><span class="p">:</span> <span class="nx">signature</span>
  <span class="p">},</span>
<span class="na">body</span><span class="p">:</span> <span class="nx">payload</span>
<span class="p">};</span>
<span class="nx">baseRequest</span><span class="p">.</span><span class="nx">post</span><span class="p">(</span><span class="nx">options</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span><span class="nx">error</span><span class="p">,</span> <span class="nx">response</span><span class="p">,</span> <span class="nx">body</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">body</span><span class="p">);</span>
<span class="p">});</span>
</code></pre>

<blockquote>
<p><strong>Response</strong></p>
</blockquote>
<pre class="highlight json"><code><span class="p">[{</span><span class="w">
  </span><span class="nt">"id"</span><span class="p">:</span><span class="mi">13800719</span><span class="p">,</span><span class="w">
  </span><span class="nt">"currency"</span><span class="p">:</span><span class="s2">"USD"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"rate"</span><span class="p">:</span><span class="s2">"31.39"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"period"</span><span class="p">:</span><span class="mi">2</span><span class="p">,</span><span class="w">
  </span><span class="nt">"direction"</span><span class="p">:</span><span class="s2">"lend"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"timestamp"</span><span class="p">:</span><span class="s2">"1444280237.0"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"is_live"</span><span class="p">:</span><span class="kc">true</span><span class="p">,</span><span class="w">
  </span><span class="nt">"is_cancelled"</span><span class="p">:</span><span class="kc">false</span><span class="p">,</span><span class="w">
  </span><span class="nt">"original_amount"</span><span class="p">:</span><span class="s2">"50.0"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"remaining_amount"</span><span class="p">:</span><span class="s2">"50.0"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"executed_amount"</span><span class="p">:</span><span class="s2">"0.0"</span><span class="w">
</span><span class="p">}]</span><span class="w">
</span></code></pre>

<p><strong>Endpoint</strong></p>

<p><code class="prettyprint">/offers</code></p>

<p><strong>Description</strong></p>

<p>View your active offers.</p>

<p><strong>Response Details</strong></p>

<p>An array of the results of <code class="prettyprint">/offer/status</code> for all your live offers (lending or borrowing).</p>

<h4 id="active-funding-used-in-a-margin-position">Active funding used in a margin position</h4>

<blockquote>
<p><strong>Request</strong></p>
</blockquote>
<pre class="highlight javascript"><code><span class="kd">var</span> <span class="nx">payload</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s2">"request"</span><span class="p">:</span> <span class="s2">"/v1/taken_funds"</span><span class="p">,</span>
  <span class="s2">"nonce"</span><span class="p">:</span> <span class="nb">Date</span><span class="p">.</span><span class="nx">now</span><span class="p">().</span><span class="nx">toString</span><span class="p">(),</span>
<span class="p">};</span>
<span class="nx">payload</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Buffer</span><span class="p">(</span><span class="nx">JSON</span><span class="p">.</span><span class="nx">stringify</span><span class="p">(</span><span class="nx">payload</span><span class="p">)).</span><span class="nx">toString</span><span class="p">(</span><span class="s1">'base64'</span><span class="p">);</span>
<span class="kd">var</span> <span class="nx">signature</span> <span class="o">=</span> <span class="nx">crypto</span><span class="p">.</span><span class="nx">createHmac</span><span class="p">(</span><span class="s2">"sha384"</span><span class="p">,</span> <span class="nx">api_secret</span><span class="p">).</span><span class="nx">update</span><span class="p">(</span><span class="nx">payload</span><span class="p">).</span><span class="nx">digest</span><span class="p">(</span><span class="s1">'hex'</span><span class="p">);</span>
<span class="kd">var</span> <span class="nx">options</span> <span class="o">=</span> <span class="p">{</span>
  <span class="na">url</span><span class="p">:</span> <span class="s2">"/taken_funds"</span><span class="p">,</span>
  <span class="na">headers</span><span class="p">:</span> <span class="p">{</span>
    <span class="s1">'X-BFX-PAYLOAD'</span><span class="p">:</span> <span class="nx">payload</span><span class="p">,</span>
    <span class="s1">'X-BFX-SIGNATURE'</span><span class="p">:</span> <span class="nx">signature</span>
  <span class="p">},</span>
  <span class="na">body</span><span class="p">:</span> <span class="nx">payload</span>
<span class="p">};</span>
<span class="nx">baseRequest</span><span class="p">.</span><span class="nx">post</span><span class="p">(</span><span class="nx">options</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span><span class="nx">error</span><span class="p">,</span> <span class="nx">response</span><span class="p">,</span> <span class="nx">body</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">body</span><span class="p">);</span>
<span class="p">});</span>
</code></pre>

<blockquote>
<p><strong>Response</strong></p>
</blockquote>
<pre class="highlight json"><code><span class="p">[{</span><span class="w">
  </span><span class="nt">"id"</span><span class="p">:</span><span class="mi">11576737</span><span class="p">,</span><span class="w">
  </span><span class="nt">"position_id"</span><span class="p">:</span><span class="mi">944309</span><span class="p">,</span><span class="w">
  </span><span class="nt">"currency"</span><span class="p">:</span><span class="s2">"USD"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"rate"</span><span class="p">:</span><span class="s2">"9.8874"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"period"</span><span class="p">:</span><span class="mi">2</span><span class="p">,</span><span class="w">
  </span><span class="nt">"amount"</span><span class="p">:</span><span class="s2">"34.24603414"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"timestamp"</span><span class="p">:</span><span class="s2">"1444280948.0"</span><span class="w">
</span><span class="p">}]</span><span class="w">
</span></code></pre>

<p><strong>Endpoint</strong></p>

<p><code class="prettyprint">/taken_funds</code></p>

<p><strong>Description</strong></p>

<p>View your funding currently borrowed and used in a margin position.</p>

<p><strong>Response Details</strong></p>

<p>An array of your active margin funds.</p>

<h4 id="total-taken-funds">Total taken funds</h4>

<blockquote>
<p><strong>Request</strong></p>
</blockquote>
<pre class="highlight javascript"><code><span class="kd">var</span> <span class="nx">payload</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s2">"request"</span><span class="p">:</span> <span class="s2">"/v1/total_taken_funds"</span><span class="p">,</span>
  <span class="s2">"nonce"</span><span class="p">:</span> <span class="nb">Date</span><span class="p">.</span><span class="nx">now</span><span class="p">().</span><span class="nx">toString</span><span class="p">(),</span>
<span class="p">};</span>
<span class="nx">payload</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Buffer</span><span class="p">(</span><span class="nx">JSON</span><span class="p">.</span><span class="nx">stringify</span><span class="p">(</span><span class="nx">payload</span><span class="p">)).</span><span class="nx">toString</span><span class="p">(</span><span class="s1">'base64'</span><span class="p">);</span>
<span class="kd">var</span> <span class="nx">signature</span> <span class="o">=</span> <span class="nx">crypto</span><span class="p">.</span><span class="nx">createHmac</span><span class="p">(</span><span class="s2">"sha384"</span><span class="p">,</span> <span class="nx">api_secret</span><span class="p">).</span><span class="nx">update</span><span class="p">(</span><span class="nx">payload</span><span class="p">).</span><span class="nx">digest</span><span class="p">(</span><span class="s1">'hex'</span><span class="p">);</span>
<span class="kd">var</span> <span class="nx">options</span> <span class="o">=</span> <span class="p">{</span>
  <span class="na">url</span><span class="p">:</span> <span class="s2">"/total_taken_funds"</span><span class="p">,</span>
  <span class="na">headers</span><span class="p">:</span> <span class="p">{</span>
    <span class="s1">'X-BFX-PAYLOAD'</span><span class="p">:</span> <span class="nx">payload</span><span class="p">,</span>
    <span class="s1">'X-BFX-SIGNATURE'</span><span class="p">:</span> <span class="nx">signature</span>
  <span class="p">},</span>
  <span class="na">body</span><span class="p">:</span> <span class="nx">payload</span>
<span class="p">};</span>
<span class="nx">baseRequest</span><span class="p">.</span><span class="nx">post</span><span class="p">(</span><span class="nx">options</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span><span class="nx">error</span><span class="p">,</span> <span class="nx">response</span><span class="p">,</span> <span class="nx">body</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">body</span><span class="p">);</span>
<span class="p">});</span>
</code></pre>

<blockquote>
<p><strong>Response</strong></p>
</blockquote>
<pre class="highlight json"><code><span class="p">[{</span><span class="w">
  </span><span class="nt">"position_pair"</span><span class="p">:</span><span class="s2">"BTCUSD"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"total_swaps"</span><span class="p">:</span><span class="s2">"34.24603414"</span><span class="w">
</span><span class="p">}]</span><span class="w">
</span></code></pre>

<p><strong>Endpoint</strong></p>

<p><code class="prettyprint">/total_taken_funds</code></p>

<p><strong>Description</strong></p>

<p>View the total of your active funding used in your position(s).</p>

<p><strong>Response Details</strong></p>

<table class="striped">
            <thead>
              <tr>
                <th class="sortable">Key<i class="fa fa-sort-down"></i><i class="fa fa-sort-up"></i></th>
                <th class="sortable">Type<i class="fa fa-sort-down"></i><i class="fa fa-sort-up"></i></th>
                <th class="sortable">Description<i class="fa fa-sort-down"></i><i class="fa fa-sort-up"></i></th>
              </tr>
            </thead>
            <tbody>

            <tr>
              <td><strong>position_pair</strong></td>
              <td>[string]</td>
              <td>Pair of the position</td>
            </tr>
            <tr>
              <td><strong>total_swaps</strong></td>
              <td>[decimal]</td>
              <td>Sum of the active funding backing this position</td>
            </tr>
            </tbody>
            </table>

<p><strong>Response Details</strong></p>

<h5 id="close-margin-funding">Close margin funding</h5>

<blockquote>
<p><strong>Request</strong></p>
</blockquote>
<pre class="highlight javascript"><code><span class="kd">var</span> <span class="nx">payload</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s2">"request"</span><span class="p">:</span> <span class="s2">"/v1/funding/close"</span><span class="p">,</span>
  <span class="s2">"nonce"</span><span class="p">:</span> <span class="nb">Date</span><span class="p">.</span><span class="nx">now</span><span class="p">().</span><span class="nx">toString</span><span class="p">(),</span>
  <span class="s2">"swap_id"</span><span class="p">:</span> <span class="mi">11576737</span>
<span class="p">};</span>
<span class="nx">payload</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Buffer</span><span class="p">(</span><span class="nx">JSON</span><span class="p">.</span><span class="nx">stringify</span><span class="p">(</span><span class="nx">payload</span><span class="p">)).</span><span class="nx">toString</span><span class="p">(</span><span class="s1">'base64'</span><span class="p">);</span>
<span class="kd">var</span> <span class="nx">signature</span> <span class="o">=</span> <span class="nx">crypto</span><span class="p">.</span><span class="nx">createHmac</span><span class="p">(</span><span class="s2">"sha384"</span><span class="p">,</span> <span class="nx">api_secret</span><span class="p">).</span><span class="nx">update</span><span class="p">(</span><span class="nx">payload</span><span class="p">).</span><span class="nx">digest</span><span class="p">(</span><span class="s1">'hex'</span><span class="p">);</span>
<span class="kd">var</span> <span class="nx">options</span> <span class="o">=</span> <span class="p">{</span>
  <span class="na">url</span><span class="p">:</span> <span class="s2">"/funding/close"</span><span class="p">,</span>
  <span class="na">headers</span><span class="p">:</span> <span class="p">{</span>
    <span class="s1">'X-BFX-PAYLOAD'</span><span class="p">:</span> <span class="nx">payload</span><span class="p">,</span>
    <span class="s1">'X-BFX-SIGNATURE'</span><span class="p">:</span> <span class="nx">signature</span>
  <span class="p">},</span>
  <span class="na">body</span><span class="p">:</span> <span class="nx">payload</span>
<span class="p">};</span>
<span class="nx">baseRequest</span><span class="p">.</span><span class="nx">post</span><span class="p">(</span><span class="nx">options</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span><span class="nx">error</span><span class="p">,</span> <span class="nx">response</span><span class="p">,</span> <span class="nx">body</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">body</span><span class="p">);</span>
<span class="p">});</span>
</code></pre>

<blockquote>
<p><strong>Response</strong></p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"id"</span><span class="p">:</span><span class="mi">11576737</span><span class="p">,</span><span class="w">
  </span><span class="nt">"position_id"</span><span class="p">:</span><span class="mi">944309</span><span class="p">,</span><span class="w">
  </span><span class="nt">"currency"</span><span class="p">:</span><span class="s2">"USD"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"rate"</span><span class="p">:</span><span class="s2">"9.8874"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"period"</span><span class="p">:</span><span class="mi">2</span><span class="p">,</span><span class="w">
  </span><span class="nt">"amount"</span><span class="p">:</span><span class="s2">"34.24603414"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"timestamp"</span><span class="p">:</span><span class="s2">"1444280948.0"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p><strong>Endpoint</strong></p>

<p><code class="prettyprint">/funding/close</code></p>

<p><strong>Description</strong></p>

<p>Return the funding taken in a margin position</p>

<p><strong>Request Details</strong></p>

<table class="striped">
            <thead>
              <tr>
                <th class="sortable">Key<i class="fa fa-sort-down"></i><i class="fa fa-sort-up"></i></th>
                <th class="sortable">Type<i class="fa fa-sort-down"></i><i class="fa fa-sort-up"></i></th>
                <th class="sortable">Description<i class="fa fa-sort-down"></i><i class="fa fa-sort-up"></i></th>
              </tr>
            </thead>
            <tbody>

            <tr>
              <td><strong>swap_id</strong></td>
              <td>[int]</td>
              <td>The ID given by `/taken_funds`.</td>
            </tr>
            </tbody>
            </table>

<p><strong>Response Details</strong></p>

<p>Status of the margin funding contract. Closed if it could be closed.</p>

<h3 id="wallet-balances">Wallet Balances</h3>

<blockquote>
<p><strong>Request</strong></p>
</blockquote>
<pre class="highlight javascript"><code><span class="kd">var</span> <span class="nx">payload</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s2">"request"</span><span class="p">:</span> <span class="s2">"/v1/balances"</span><span class="p">,</span>
  <span class="s2">"nonce"</span><span class="p">:</span> <span class="nb">Date</span><span class="p">.</span><span class="nx">now</span><span class="p">().</span><span class="nx">toString</span><span class="p">()</span>
<span class="p">};</span>
<span class="nx">payload</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Buffer</span><span class="p">(</span><span class="nx">JSON</span><span class="p">.</span><span class="nx">stringify</span><span class="p">(</span><span class="nx">payload</span><span class="p">)).</span><span class="nx">toString</span><span class="p">(</span><span class="s1">'base64'</span><span class="p">);</span>
<span class="kd">var</span> <span class="nx">signature</span> <span class="o">=</span> <span class="nx">crypto</span><span class="p">.</span><span class="nx">createHmac</span><span class="p">(</span><span class="s2">"sha384"</span><span class="p">,</span> <span class="nx">api_secret</span><span class="p">).</span><span class="nx">update</span><span class="p">(</span><span class="nx">payload</span><span class="p">).</span><span class="nx">digest</span><span class="p">(</span><span class="s1">'hex'</span><span class="p">);</span>
<span class="kd">var</span> <span class="nx">options</span> <span class="o">=</span> <span class="p">{</span>
  <span class="na">url</span><span class="p">:</span> <span class="s2">"/balances"</span><span class="p">,</span>
  <span class="na">headers</span><span class="p">:</span> <span class="p">{</span>
    <span class="s1">'X-BFX-PAYLOAD'</span><span class="p">:</span> <span class="nx">payload</span><span class="p">,</span>
    <span class="s1">'X-BFX-SIGNATURE'</span><span class="p">:</span> <span class="nx">signature</span>
  <span class="p">},</span>
  <span class="na">body</span><span class="p">:</span> <span class="nx">payload</span>
<span class="p">};</span>
<span class="nx">baseRequest</span><span class="p">.</span><span class="nx">post</span><span class="p">(</span><span class="nx">options</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span><span class="nx">error</span><span class="p">,</span> <span class="nx">response</span><span class="p">,</span> <span class="nx">body</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">body</span><span class="p">);</span>
<span class="p">});</span>
</code></pre>

<blockquote>
<p><strong>Response</strong></p>
</blockquote>
<pre class="highlight json"><code><span class="p">[{</span><span class="w">
  </span><span class="nt">"type"</span><span class="p">:</span><span class="s2">"deposit"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"currency"</span><span class="p">:</span><span class="s2">"btc"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"amount"</span><span class="p">:</span><span class="s2">"0.0"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"available"</span><span class="p">:</span><span class="s2">"0.0"</span><span class="w">
</span><span class="p">},{</span><span class="w">
  </span><span class="nt">"type"</span><span class="p">:</span><span class="s2">"deposit"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"currency"</span><span class="p">:</span><span class="s2">"usd"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"amount"</span><span class="p">:</span><span class="s2">"1.0"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"available"</span><span class="p">:</span><span class="s2">"1.0"</span><span class="w">
</span><span class="p">},{</span><span class="w">
  </span><span class="nt">"type"</span><span class="p">:</span><span class="s2">"exchange"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"currency"</span><span class="p">:</span><span class="s2">"btc"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"amount"</span><span class="p">:</span><span class="s2">"1"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"available"</span><span class="p">:</span><span class="s2">"1"</span><span class="w">
</span><span class="p">},{</span><span class="w">
  </span><span class="nt">"type"</span><span class="p">:</span><span class="s2">"exchange"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"currency"</span><span class="p">:</span><span class="s2">"usd"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"amount"</span><span class="p">:</span><span class="s2">"1"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"available"</span><span class="p">:</span><span class="s2">"1"</span><span class="w">
</span><span class="p">},{</span><span class="w">
  </span><span class="nt">"type"</span><span class="p">:</span><span class="s2">"trading"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"currency"</span><span class="p">:</span><span class="s2">"btc"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"amount"</span><span class="p">:</span><span class="s2">"1"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"available"</span><span class="p">:</span><span class="s2">"1"</span><span class="w">
</span><span class="p">},{</span><span class="w">
  </span><span class="nt">"type"</span><span class="p">:</span><span class="s2">"trading"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"currency"</span><span class="p">:</span><span class="s2">"usd"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"amount"</span><span class="p">:</span><span class="s2">"1"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"available"</span><span class="p">:</span><span class="s2">"1"</span><span class="w">
</span><span class="p">}]</span><span class="w">
</span></code></pre>

<p><strong>Endpoint</strong></p>

<p><code class="prettyprint">/balances</code></p>

<p><strong>Description</strong></p>

<p>See your balances.</p>

<p><strong>Response Details</strong></p>

<p>An array of wallet balances</p>

<table class="striped">
          <thead>
            <tr>
              <th class="sortable">Key<i class="fa fa-sort-down"></i><i class="fa fa-sort-up"></i></th>
              <th class="sortable">Type<i class="fa fa-sort-down"></i><i class="fa fa-sort-up"></i></th>
              <th class="sortable">Description<i class="fa fa-sort-down"></i><i class="fa fa-sort-up"></i></th>
            </tr>
          </thead>
          <tbody>

          <tr>
            <td><strong>type</strong></td>
            <td>[string]</td>
            <td>&ldquo;trading&rdquo;, &ldquo;deposit&rdquo; or &ldquo;exchange&rdquo;.</td>
          </tr>
          <tr>
            <td><strong>currency</strong></td>
            <td>[string]</td>
            <td>Currency </td>
          </tr>
          <tr>
            <td><strong>amount</strong></td>
            <td>[decimal]</td>
            <td>How much balance of this currency in this wallet</td>
          </tr>
          <tr>
            <td><strong>available</strong></td>
            <td>[decimal]</td>
            <td>How much X there is in this wallet that is available to trade.</td>
          </tr>
          </tbody>
          </table>

<h3 id="margin-information">Margin Information</h3>

<blockquote>
<p><strong>Request</strong></p>
</blockquote>
<pre class="highlight javascript"><code><span class="kd">var</span> <span class="nx">payload</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s2">"request"</span><span class="p">:</span> <span class="s2">"/v1/margin_infos"</span><span class="p">,</span>
  <span class="s2">"nonce"</span><span class="p">:</span> <span class="nb">Date</span><span class="p">.</span><span class="nx">now</span><span class="p">().</span><span class="nx">toString</span><span class="p">()</span>
<span class="p">};</span>
<span class="nx">payload</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Buffer</span><span class="p">(</span><span class="nx">JSON</span><span class="p">.</span><span class="nx">stringify</span><span class="p">(</span><span class="nx">payload</span><span class="p">)).</span><span class="nx">toString</span><span class="p">(</span><span class="s1">'base64'</span><span class="p">);</span>
<span class="kd">var</span> <span class="nx">signature</span> <span class="o">=</span> <span class="nx">crypto</span><span class="p">.</span><span class="nx">createHmac</span><span class="p">(</span><span class="s2">"sha384"</span><span class="p">,</span> <span class="nx">api_secret</span><span class="p">).</span><span class="nx">update</span><span class="p">(</span><span class="nx">payload</span><span class="p">).</span><span class="nx">digest</span><span class="p">(</span><span class="s1">'hex'</span><span class="p">);</span>
<span class="kd">var</span> <span class="nx">options</span> <span class="o">=</span> <span class="p">{</span>
  <span class="na">url</span><span class="p">:</span> <span class="s2">"/margin_infos"</span><span class="p">,</span>
  <span class="na">headers</span><span class="p">:</span> <span class="p">{</span>
    <span class="s1">'X-BFX-PAYLOAD'</span><span class="p">:</span> <span class="nx">payload</span><span class="p">,</span>
    <span class="s1">'X-BFX-SIGNATURE'</span><span class="p">:</span> <span class="nx">signature</span>
  <span class="p">},</span>
  <span class="na">body</span><span class="p">:</span> <span class="nx">payload</span>
<span class="p">};</span>
<span class="nx">baseRequest</span><span class="p">.</span><span class="nx">post</span><span class="p">(</span><span class="nx">options</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span><span class="nx">error</span><span class="p">,</span> <span class="nx">response</span><span class="p">,</span> <span class="nx">body</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">body</span><span class="p">);</span>
<span class="p">});</span>
</code></pre>

<blockquote>
<p><strong>Response</strong></p>
</blockquote>
<pre class="highlight json"><code><span class="p">[{</span><span class="w">
  </span><span class="nt">"margin_balance"</span><span class="p">:</span><span class="s2">"14.80039951"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"tradable_balance"</span><span class="p">:</span><span class="s2">"-12.50620089"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"unrealized_pl"</span><span class="p">:</span><span class="s2">"-0.18392"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"unrealized_swap"</span><span class="p">:</span><span class="s2">"-0.00038653"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"net_value"</span><span class="p">:</span><span class="s2">"14.61609298"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"required_margin"</span><span class="p">:</span><span class="s2">"7.3569"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"leverage"</span><span class="p">:</span><span class="s2">"2.5"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"margin_requirement"</span><span class="p">:</span><span class="s2">"13.0"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"margin_limits"</span><span class="p">:[{</span><span class="w">
    </span><span class="nt">"on_pair"</span><span class="p">:</span><span class="s2">"BTCUSD"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"initial_margin"</span><span class="p">:</span><span class="s2">"30.0"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"margin_requirement"</span><span class="p">:</span><span class="s2">"15.0"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"tradable_balance"</span><span class="p">:</span><span class="s2">"-0.329243259666666667"</span><span class="w">
  </span><span class="p">}],</span><span class="w">
  </span><span class="nt">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Margin requirement, leverage and tradable balance are now per pair. You will find them under margin_limits, for each pair. Please update your code as soon as possible."</span><span class="w">
</span><span class="p">}]</span><span class="w">
</span></code></pre>

<p><strong>Endpoint</strong></p>

<p><code class="prettyprint">/margin_infos</code></p>

<p><strong>Description</strong></p>

<p>See your trading wallet information for margin trading.</p>

<p><strong>Response Details</strong></p>

<table class="striped">
          <thead>
            <tr>
              <th class="sortable">Key<i class="fa fa-sort-down"></i><i class="fa fa-sort-up"></i></th>
              <th class="sortable">Type<i class="fa fa-sort-down"></i><i class="fa fa-sort-up"></i></th>
              <th class="sortable">Description<i class="fa fa-sort-down"></i><i class="fa fa-sort-up"></i></th>
            </tr>
          </thead>
          <tbody>

          <tr>
            <td><strong>margin_balance</strong></td>
            <td>[decimal]</td>
            <td>the USD value of all your trading assets (based on last prices)</td>
          </tr>
          <tr>
            <td><strong>unrealized_pl</strong></td>
            <td>[decimal]</td>
            <td>The unrealized profit/loss of all your open positions</td>
          </tr>
          <tr>
            <td><strong>unrealized_swap</strong></td>
            <td>[decimal]</td>
            <td>The margin funding used by all your open positions</td>
          </tr>
          <tr>
            <td><strong>net_value</strong></td>
            <td>[decimal]</td>
            <td>Your net value (the USD value of your trading wallet, including your margin balance, your unrealized P/L and margin funding)</td>
          </tr>
          <tr>
            <td><strong>required_margin</strong></td>
            <td>[decimal]</td>
            <td>The minimum net value to maintain in your trading wallet, under which all of your positions are fully liquidated</td>
          </tr>
          <tr>
            <td><strong>margin_limits</strong></td>
            <td>[array]</td>
            <td>The list of margin limits for each pair. The array gives you the following information, for each pair:</td>
          </tr>
          <tr>
            <td><strong>on_pair</strong></td>
            <td>[string]</td>
            <td>The pair for which these limits are valid</td>
          </tr>
          <tr>
            <td><strong>initial_margin</strong></td>
            <td>[decimal]</td>
            <td>The minimum margin (in %) to maintain to open or increase a position</td>
          </tr>
          <tr>
            <td><strong>tradable_balance</strong></td>
            <td>[decimal]</td>
            <td>Your tradable balance in USD (the maximum size you can open on leverage for this pair)</td>
          </tr>
          <tr>
            <td><strong>margin_requirements</strong></td>
            <td>[decimal]</td>
            <td>The maintenance margin (% of the USD value of all of your open positions in the current pair to maintain)</td>
          </tr>

          </tbody>
          </table>

<h3 id="transfer-between-wallets">Transfer Between Wallets</h3>

<blockquote>
<p><strong>Request</strong></p>
</blockquote>
<pre class="highlight javascript"><code><span class="kd">var</span> <span class="nx">payload</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s2">"request"</span><span class="p">:</span> <span class="s2">"/v1/transfer"</span><span class="p">,</span>
  <span class="s2">"nonce"</span><span class="p">:</span> <span class="nb">Date</span><span class="p">.</span><span class="nx">now</span><span class="p">().</span><span class="nx">toString</span><span class="p">(),</span>
  <span class="s2">"amount"</span><span class="p">:</span> <span class="s2">"1.0"</span><span class="p">,</span>
  <span class="s2">"currency"</span><span class="p">:</span> <span class="s2">"USD"</span><span class="p">,</span>
  <span class="s2">"walletfrom"</span><span class="p">:</span> <span class="s2">"exchange"</span><span class="p">,</span>
  <span class="s2">"walletto"</span><span class="p">:</span> <span class="s2">"deposit"</span>
<span class="p">};</span>
<span class="nx">payload</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Buffer</span><span class="p">(</span><span class="nx">JSON</span><span class="p">.</span><span class="nx">stringify</span><span class="p">(</span><span class="nx">payload</span><span class="p">)).</span><span class="nx">toString</span><span class="p">(</span><span class="s1">'base64'</span><span class="p">);</span>
<span class="kd">var</span> <span class="nx">signature</span> <span class="o">=</span> <span class="nx">crypto</span><span class="p">.</span><span class="nx">createHmac</span><span class="p">(</span><span class="s2">"sha384"</span><span class="p">,</span> <span class="nx">api_secret</span><span class="p">).</span><span class="nx">update</span><span class="p">(</span><span class="nx">payload</span><span class="p">).</span><span class="nx">digest</span><span class="p">(</span><span class="s1">'hex'</span><span class="p">);</span>
<span class="kd">var</span> <span class="nx">options</span> <span class="o">=</span> <span class="p">{</span>
  <span class="na">url</span><span class="p">:</span> <span class="s2">"/transfer"</span><span class="p">,</span>
  <span class="na">headers</span><span class="p">:</span> <span class="p">{</span>
    <span class="s1">'X-BFX-PAYLOAD'</span><span class="p">:</span> <span class="nx">payload</span><span class="p">,</span>
    <span class="s1">'X-BFX-SIGNATURE'</span><span class="p">:</span> <span class="nx">signature</span>
  <span class="p">},</span>
  <span class="na">body</span><span class="p">:</span> <span class="nx">payload</span>
<span class="p">};</span>
<span class="nx">baseRequest</span><span class="p">.</span><span class="nx">post</span><span class="p">(</span><span class="nx">options</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span><span class="nx">error</span><span class="p">,</span> <span class="nx">response</span><span class="p">,</span> <span class="nx">body</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">body</span><span class="p">);</span>
<span class="p">});</span>
</code></pre>

<blockquote>
<p><strong>Response</strong></p>
</blockquote>
<pre class="highlight json"><code><span class="p">[{</span><span class="w">
  </span><span class="nt">"status"</span><span class="p">:</span><span class="s2">"success"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"message"</span><span class="p">:</span><span class="s2">"1.0 USD transfered from Exchange to Deposit"</span><span class="w">
</span><span class="p">}]</span><span class="w">
</span></code></pre>

<p><strong>Endpoint</strong></p>

<p><code class="prettyprint">/transfer</code></p>

<p><strong>Description</strong></p>

<p>Allow you to move available balances between your wallets.</p>

<p><strong>Request Details</strong></p>

<table class="striped">
            <thead>
            <tr>
              <th class="sortable">Key<i class="fa fa-sort-down"></i><i class="fa fa-sort-up"></i></th>
              <th class="sortable">Type<i class="fa fa-sort-down"></i><i class="fa fa-sort-up"></i></th>
              <th class="sortable">Description<i class="fa fa-sort-down"></i><i class="fa fa-sort-up"></i></th>
            </tr>
            </thead>
            <tbody>

            <tr>
              <td><strong>amount</strong></td>
              <td>[decimal]</td>
              <td>Amount to transfer.</td>
            </tr>
            <tr>
              <td><strong>currency</strong></td>
              <td>[string]</td>
              <td>Currency of funds to transfer.</td>
            </tr>
            <tr>
              <td><strong>walletfrom</strong></td>
              <td>[string]</td>
              <td>Wallet to transfer from.</td>
            </tr>
            <tr>
              <td><strong>walletto</strong></td>
              <td>[string]</td>
              <td>Wallet to transfer to.</td>
            </tr>
            </tbody>
          </table>

<p><strong>Response Details</strong></p>

<table class="striped">
            <thead>
            <tr>
              <th class="sortable">Key<i class="fa fa-sort-down"></i><i class="fa fa-sort-up"></i></th>
              <th class="sortable">Type<i class="fa fa-sort-down"></i><i class="fa fa-sort-up"></i></th>
              <th class="sortable">Description<i class="fa fa-sort-down"></i><i class="fa fa-sort-up"></i></th>
            </tr>
            </thead>
            <tbody>

            <tr>
              <td><strong>status</strong></td>
              <td>[string]</td>
              <td>&ldquo;success&rdquo; or &ldquo;error&rdquo;.</td>
            </tr>
            <tr>
              <td><strong>message</strong></td>
              <td>[string]</td>
              <td>Success or error message</td>
            </tr>
            </tbody>
          </table>

<h3 id="withdrawal">Withdrawal</h3>

<blockquote>
<p><strong>Request</strong></p>
</blockquote>
<pre class="highlight javascript"><code><span class="kd">var</span> <span class="nx">payload</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s2">"request"</span><span class="p">:</span> <span class="s2">"/v1/withdraw"</span><span class="p">,</span>
  <span class="s2">"nonce"</span><span class="p">:</span> <span class="nb">Date</span><span class="p">.</span><span class="nx">now</span><span class="p">().</span><span class="nx">toString</span><span class="p">(),</span>
  <span class="s2">"amount"</span><span class="p">:</span> <span class="s2">"0.01"</span><span class="p">,</span>
  <span class="s2">"withdraw_type"</span><span class="p">:</span> <span class="s2">"bitcoin"</span><span class="p">,</span>
  <span class="s2">"walletselected"</span><span class="p">:</span> <span class="s2">"exchange"</span><span class="p">,</span>
  <span class="s2">"address"</span><span class="p">:</span> <span class="s2">"1DKwqRhDmVyHJDL4FUYpDmQMYA3Rsxtvur"</span>
<span class="p">};</span>
<span class="nx">payload</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Buffer</span><span class="p">(</span><span class="nx">JSON</span><span class="p">.</span><span class="nx">stringify</span><span class="p">(</span><span class="nx">payload</span><span class="p">)).</span><span class="nx">toString</span><span class="p">(</span><span class="s1">'base64'</span><span class="p">);</span>
<span class="kd">var</span> <span class="nx">signature</span> <span class="o">=</span> <span class="nx">crypto</span><span class="p">.</span><span class="nx">createHmac</span><span class="p">(</span><span class="s2">"sha384"</span><span class="p">,</span> <span class="nx">api_secret</span><span class="p">).</span><span class="nx">update</span><span class="p">(</span><span class="nx">payload</span><span class="p">).</span><span class="nx">digest</span><span class="p">(</span><span class="s1">'hex'</span><span class="p">);</span>
<span class="kd">var</span> <span class="nx">options</span> <span class="o">=</span> <span class="p">{</span>
  <span class="na">url</span><span class="p">:</span> <span class="s2">"/withdraw"</span><span class="p">,</span>
  <span class="na">headers</span><span class="p">:</span> <span class="p">{</span>
    <span class="s1">'X-BFX-PAYLOAD'</span><span class="p">:</span> <span class="nx">payload</span><span class="p">,</span>
    <span class="s1">'X-BFX-SIGNATURE'</span><span class="p">:</span> <span class="nx">signature</span>
  <span class="p">},</span>
  <span class="na">body</span><span class="p">:</span> <span class="nx">payload</span>
<span class="p">};</span>
<span class="nx">baseRequest</span><span class="p">.</span><span class="nx">post</span><span class="p">(</span><span class="nx">options</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span><span class="nx">error</span><span class="p">,</span> <span class="nx">response</span><span class="p">,</span> <span class="nx">body</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">body</span><span class="p">);</span>
<span class="p">});</span>
</code></pre>

<blockquote>
<p><strong>Response</strong></p>
</blockquote>
<pre class="highlight json"><code><span class="p">[{</span><span class="w">
  </span><span class="nt">"status"</span><span class="p">:</span><span class="s2">"success"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"message"</span><span class="p">:</span><span class="s2">"Your withdrawal request has been successfully submitted."</span><span class="p">,</span><span class="w">
  </span><span class="nt">"withdrawal_id"</span><span class="p">:</span><span class="mi">586829</span><span class="w">
</span><span class="p">}]</span><span class="w">
</span></code></pre>

<p><strong>Endpoint</strong></p>

<p><code class="prettyprint">/withdraw</code></p>

<p><strong>Description</strong></p>

<p>Allow you to request a withdrawal from one of your wallet.</p>

<p><strong>Request Details</strong></p>

<table class="striped">
            <thead>
            <tr>
              <th class="sortable">Key<i class="fa fa-sort-down"></i><i class="fa fa-sort-up"></i></th>
              <th class="sortable">Type<i class="fa fa-sort-down"></i><i class="fa fa-sort-up"></i></th>
              <th class="sortable">Description<i class="fa fa-sort-down"></i><i class="fa fa-sort-up"></i></th>
            </tr>
            </thead>
            <tbody>

            <tr>
              <td><strong>withdraw_type</strong></td>
              <td>[string]</td>
              <td>can be &ldquo;bitcoin&rdquo;, &ldquo;litecoin&rdquo; or &ldquo;darkcoin&rdquo;  or &ldquo;tether&rdquo;.</td>
            </tr>
            <tr>
              <td><strong>walletselected</strong></td>
              <td>[string]</td>
              <td>The wallet to withdraw from, can be &ldquo;trading&rdquo;, &ldquo;exchange&rdquo;, or &ldquo;deposit&rdquo;.</td>
            </tr>
            <tr>
              <td><strong>amount</strong></td>
              <td>[string]</td>
              <td>Amount to withdraw.</td>
            </tr>
            <tr>
              <td><strong>address</strong></td>
              <td>[string]</td>
              <td>Destination address for withdrawal.</td>
            </tr>
            </tbody>
          </table>

<p><strong>Request Details</strong></p>

<table class="striped">
            <thead>
            <tr>
              <th class="sortable">Key<i class="fa fa-sort-down"></i><i class="fa fa-sort-up"></i></th>
              <th class="sortable">Type<i class="fa fa-sort-down"></i><i class="fa fa-sort-up"></i></th>
              <th class="sortable">Description<i class="fa fa-sort-down"></i><i class="fa fa-sort-up"></i></th>
            </tr>
            </thead>
            <tbody>

            <tr>
              <td><strong>status</strong></td>
              <td>[string]</td>
              <td>&ldquo;success&rdquo; or &ldquo;error&rdquo;.</td>
            </tr>
            <tr>
              <td><strong>message</strong></td>
              <td>[string]</td>
              <td>Success or error message</td>
            </tr>
            <tr>
              <td><strong>withdrawal_id</strong></td>
              <td>[int]</td>
              <td>ID of the withdrawal (0 if unsuccessful)</td>
            </tr>
            </tbody>
          </table>

          <h1 id="websocket">Websocket</h1>

<h2 id="general">General</h2>

<h3 id="ssl-websocket-connection">SSL Websocket Connection</h3>

<p>URI: <code class="prettyprint">wss://api2.bitfinex.com:3000/ws</code></p>

<h3 id="message-encoding">Message encoding</h3>

<p>Each message sent and received via the Bitfinex&rsquo;s websocket channel is encoded in JSON format</p>

<h3 id="public-channels">Public Channels</h3>

<ul>
<li><strong>Book:</strong> order book feed (BTCUSD, LTCUSD, LTCBTC)</li>
<li><strong>Ticker:</strong> ticker feed (BTCUSD, LTCUSD, LTCBTC)</li>
<li><strong>Trades:</strong> trades feed (BTCUSD, LTCUSD, LTCBTC)</li>
</ul>

<h3 id="authenticated-channels">Authenticated Channels</h3>

<ul>
<li><strong>Account Info:</strong> account specific private data (positions, orders, executed trades, balances)</li>
</ul>

<h3 id="how-to-connect">How to Connect</h3>

<p>Open up a websocket connection to the websocket URI.</p>

<blockquote>
<p><strong>Example</strong></p>
</blockquote>
<pre class="highlight javascript"><code><span class="c1">//using the ws library</span>
<span class="kd">var</span> <span class="nx">WebSocket</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'ws'</span><span class="p">);</span>
<span class="kd">var</span> <span class="nx">w</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">WebSocket</span><span class="p">(</span><span class="s2">"wss://api2.bitfinex.com:3000/ws"</span><span class="p">);</span>
<span class="nx">w</span><span class="p">.</span><span class="nx">onmessage</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">msg</span><span class="p">)</span> <span class="p">{</span> <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">msg</span><span class="p">.</span><span class="nx">data</span><span class="p">);</span> <span class="p">};</span>
</code></pre>

<h3 id="error-codes">Error Codes</h3>

<p>In case of error, you receive a message containing the proper error code (<code class="prettyprint">Code</code> JSON field).</p>

<aside class="warning">
<strong>Generic Error Codes</strong>
<br>
10000 : Unknown event
<br>
10001 : Unknown pair
</aside>

<h3 id="ping-pong">Ping/Pong</h3>

<p>Use <code class="prettyprint">ping</code> message to test your connection to the websocket server.</p>

<blockquote>
<p><strong>#Request</strong></p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"Event"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ping"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<blockquote>
<p><strong>Response</strong></p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"Event"</span><span class="p">:</span><span class="w"> </span><span class="s2">"pong"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<h3 id="subscribe-to-channels">Subscribe to Channels</h3>

<p>To receive data from a channel you have to send a &ldquo;subscribe&rdquo; message first.</p>

<blockquote>
<p><strong>Request</strong></p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"Event"</span><span class="p">:</span><span class="w"> </span><span class="s2">"subscribe"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"Channel"</span><span class="p">:</span><span class="w"> </span><span class="s2">"CHANNEL_NAME"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<blockquote>
<p><strong>Response - Success</strong></p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"Event"</span><span class="p">:</span><span class="w"> </span><span class="s2">"subscribed"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"Channel"</span><span class="p">:</span><span class="w"> </span><span class="s2">"CHANNEL_NAME"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"ChanId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;CHANNEL_ID&gt;"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<blockquote>
<p><strong>Response - Failure</strong></p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"Event"</span><span class="p">:</span><span class="w"> </span><span class="s2">"error"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"Msg"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;ERROR_MSG&gt;"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"Code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;ERROR_CODE&gt;"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<h3 id="snapshot">Snapshot</h3>

<p>Upon subscribing to a channel an initial snapshot is sent. Typically,
the snapshot will have as its first item, the ChanId, its second item
will be an array of update messages (each of which is itself an array).
So The array would have 3 levels.</p>

<blockquote>
<p><strong>Snapshot</strong></p>
</blockquote>
<pre class="highlight json"><code><span class="p">[</span><span class="s2">"&lt;Chan Id&gt;"</span><span class="p">,</span><span class="w">
  </span><span class="p">[</span><span class="s2">"&lt;Group of Update Messages&gt;"</span><span class="p">,</span><span class="w">
    </span><span class="p">[</span><span class="s2">"&lt;Update Message&gt;"</span><span class="p">]</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">]</span><span class="w">
</span></code></pre>

<h3 id="update">Update</h3>

<p>After receiving the snapshot, you will receive updates upon any change.</p>

<aside class="notice">
Channel ID&rsquo;s allow you to keep track of the messages, they are static
per session, you will receive both the CHANNEL_NAME and the ChanId
in the response to a subscription message.
* CHANNEL_NAME: (string) channel name (book, trades, ticker)
* ChanId/CHANNEL_ID: (int) channel identificator. ChanId is a numeric channel identificator that the developer
can use to distinguish the updates for each subscribed channel.
</aside>

<aside class="warning">
<strong>error codes</strong>
<br>
10300 : Subscription failed (generic)
<br>
10301 : Already subscribed
<br>
10302 : Unknown channel
<br>
</aside>

<h3 id="unsubscribe-to-channels">Unsubscribe to Channels</h3>

<p>To stop receiving data from a channel you have to send a &ldquo;unsubscribe&rdquo; message.</p>

<blockquote>
<p><strong>Request</strong></p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"Event"</span><span class="p">:</span><span class="w"> </span><span class="s2">"unsubscribe"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"ChanId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;CHANNEL_ID&gt;"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<blockquote>
<p>or</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"Event"</span><span class="p">:</span><span class="w"> </span><span class="s2">"unsubscribe"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"Channel"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;CHANNEL_NAME&gt;"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"Pair"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;PAIR&gt;"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<blockquote>
<p><strong>Response - Success</strong></p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"Event"</span><span class="p">:</span><span class="w"> </span><span class="s2">"unsubscribed"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"ChanId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;CHANNEL_ID&gt;"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<blockquote>
<p><strong>Response - Failure</strong></p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"Event"</span><span class="p">:</span><span class="w"> </span><span class="s2">"error"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"Msg"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;ERROR_MSG&gt;"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"Code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;ERROR_CODE&gt;"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<aside class="warning">
<strong>error codes</strong>
<br>
10400 : Subscription failed (generic)
<br>
10401 : Not subscribed
</aside>

<h2 id="public-channels">Public Channels</h2>

<hr>

<h3 id="order-books">Order Books</h3>

<p>The Order Books channel allow you to keep track of the state of the Bitfinex order book.
It is provided on a price aggregated basis, with customizable precision.
After receiving the response, you will receive a snapshot of the book,
followed by updates upon any changes to the book.</p>

<blockquote>
<p><strong>Example</strong></p>
</blockquote>
<pre class="highlight javascript"><code><span class="nx">w</span><span class="p">.</span><span class="nx">send</span><span class="p">(</span><span class="nx">JSON</span><span class="p">.</span><span class="nx">stringify</span><span class="p">({</span> <span class="s2">"Event"</span><span class="p">:</span> <span class="s2">"subscribe"</span><span class="p">,</span> <span class="na">Channel</span><span class="p">:</span> <span class="s2">"trades"</span><span class="p">,</span> <span class="na">Pair</span><span class="p">:</span> <span class="s2">"BTCUSD"</span><span class="p">,</span> <span class="na">Prec</span><span class="p">:</span> <span class="s2">"P0"</span> <span class="p">}))</span>
</code></pre>

<blockquote>
<p><strong>Request</strong></p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"Event"</span><span class="p">:</span><span class="w"> </span><span class="s2">"subscribe"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"Channel"</span><span class="p">:</span><span class="w"> </span><span class="s2">"book"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"Pair"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;PAIR&gt;"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"Prec"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;PRECISION&gt;"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<blockquote>
<p><strong>Response</strong></p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"Event"</span><span class="p">:</span><span class="w"> </span><span class="s2">"subscribed"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"Channel"</span><span class="p">:</span><span class="w"> </span><span class="s2">"book"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"ChanId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;CHANNEL_ID&gt;"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<blockquote>
<p><strong>Snapshot</strong></p>
</blockquote>
<pre class="highlight json"><code><span class="p">[</span><span class="s2">"&lt;CHANNEL_ID&gt;"</span><span class="p">,</span><span class="w"> </span><span class="p">[[</span><span class="s2">"&lt;PRICE&gt;"</span><span class="p">,</span><span class="w"> </span><span class="s2">"&lt;COUNT&gt;"</span><span class="p">,</span><span class="w"> </span><span class="s2">"&lt;AMOUNT&gt;"</span><span class="p">],</span><span class="w"> </span><span class="p">[</span><span class="s2">"..."</span><span class="p">]]]</span><span class="w">
</span></code></pre>

<blockquote>
<p><strong>Updates</strong></p>
</blockquote>
<pre class="highlight json"><code><span class="p">[</span><span class="s2">"&lt;CHANNEL_ID&gt;"</span><span class="p">,</span><span class="w"> </span><span class="s2">"&lt;PRICE&gt;"</span><span class="p">,</span><span class="w"> </span><span class="s2">"&lt;COUNT&gt;"</span><span class="p">,</span><span class="w"> </span><span class="s2">"&lt;AMOUNT&gt;"</span><span class="p">]</span><span class="w">
</span></code></pre>

<p><strong>Fields</strong></p>

<table><thead>
<tr>
<th>Fields</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>PRECISION</td>
<td>string</td>
<td>Level of price aggregation (P0, P1, P2, P3). The default is P0.</td>
</tr>
<tr>
<td>COUNT</td>
<td>int</td>
<td>Number of orders at that price level.</td>
</tr>
<tr>
<td>AMOUNT</td>
<td>float</td>
<td>Total amount available at that price level. Positive values mean bid, negative values mean ask.</td>
</tr>
</tbody></table>

<p><strong>Precision Levels per Pair</strong></p>

<table><thead>
<tr>
<th>Pair</th>
<th>Precision Level</th>
<th>Number of decimal places</th>
<th>Example</th>
</tr>
</thead><tbody>
<tr>
<td>BTCUSD</td>
<td>P0</td>
<td>2</td>
<td>$0.01</td>
</tr>
<tr>
<td>&hellip;</td>
<td>P1</td>
<td>1</td>
<td>$0.10</td>
</tr>
<tr>
<td>&hellip;</td>
<td>P2</td>
<td>0</td>
<td>$1</td>
</tr>
<tr>
<td>&hellip;</td>
<td>P3</td>
<td>-1</td>
<td>$10</td>
</tr>
<tr>
<td>LTCUSD</td>
<td>P0</td>
<td>4</td>
<td>$0.0001</td>
</tr>
<tr>
<td>&hellip;</td>
<td>P1</td>
<td>3</td>
<td>$0.001</td>
</tr>
<tr>
<td>&hellip;</td>
<td>P2</td>
<td>2</td>
<td>$0.01</td>
</tr>
<tr>
<td>&hellip;</td>
<td>P3</td>
<td>1</td>
<td>$0.1</td>
</tr>
<tr>
<td>LTCBTC</td>
<td>P0</td>
<td>6</td>
<td>0.000001</td>
</tr>
<tr>
<td>&hellip;</td>
<td>P1</td>
<td>5</td>
<td>0.00001</td>
</tr>
<tr>
<td>&hellip;</td>
<td>P2</td>
<td>4</td>
<td>0.0001</td>
</tr>
<tr>
<td>&hellip;</td>
<td>P3</td>
<td>3</td>
<td>0.001</td>
</tr>
</tbody></table>

<aside class="warning">
<strong>error codes</strong>
<br>
10011 : Unknown Book precision
<br>
10012 : Unknown Book length
</aside>

<h3 id="trades">Trades</h3>

<p>This channel sends a trade message whenever a trade occurs at Bitfinex.
It includes all the pertinent details of the trade,
such as price, size and time.</p>

<blockquote>
<p><strong>Example</strong></p>
</blockquote>
<pre class="highlight javascript"><code><span class="nx">w</span><span class="p">.</span><span class="nx">send</span><span class="p">(</span><span class="nx">JSON</span><span class="p">.</span><span class="nx">stringify</span><span class="p">({</span> <span class="s2">"Event"</span><span class="p">:</span> <span class="s2">"subscribe"</span><span class="p">,</span> <span class="na">Channel</span><span class="p">:</span> <span class="s2">"trades"</span><span class="p">,</span> <span class="na">Pair</span><span class="p">:</span> <span class="s2">"BTCUSD"</span> <span class="p">}))</span>
</code></pre>

<blockquote>
<p><strong>Request</strong></p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"Event"</span><span class="p">:</span><span class="w"> </span><span class="s2">"subscribe"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"Channel"</span><span class="p">:</span><span class="w"> </span><span class="s2">"trades"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"Pair"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTCUSD"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<blockquote>
<p><strong>Response</strong></p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"Event"</span><span class="p">:</span><span class="w"> </span><span class="s2">"subscribed"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"Channel"</span><span class="p">:</span><span class="w"> </span><span class="s2">"trades"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"ChanId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;CHANNEL_ID&gt;"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<blockquote>
<p><strong>Snapshot</strong></p>
</blockquote>
<pre class="highlight javascript"><code><span class="p">[</span><span class="s2">"&lt;CHANNEL_ID&gt;"</span><span class="p">,</span> <span class="p">[</span><span class="s2">"&lt;ID&gt;"</span><span class="p">,</span> <span class="s2">"&lt;TIMESTAMP&gt;"</span><span class="p">,</span> <span class="s2">"&lt;PRICE&gt;"</span><span class="p">,</span> <span class="s2">"&lt;AMOUNT&gt;"</span><span class="p">],</span> <span class="p">[</span><span class="s2">"..."</span><span class="p">]]</span>
</code></pre>

<blockquote>
<p><strong>Updates</strong></p>
</blockquote>
<pre class="highlight javascript"><code><span class="p">[</span><span class="s2">"&lt;CHANNEL_ID&gt;"</span><span class="p">,</span> <span class="s2">"&lt;ID&gt;"</span><span class="p">,</span> <span class="s2">"&lt;TIMESTAMP&gt;"</span><span class="p">,</span> <span class="s2">"&lt;PRICE&gt;"</span><span class="p">,</span> <span class="s2">"&lt;AMOUNT&gt;"</span><span class="p">]</span>
</code></pre>

<p><em>here is an example of a real trade</em></p>

<p><code class="prettyprint">[ 5, 11928301, 1443659698, 236.42, 0.49064538 ]</code></p>

<p><strong>Fields</strong></p>

<table><thead>
<tr>
<th>Fields</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>ID</td>
<td>int</td>
<td>A Bitfinex trade ID</td>
</tr>
<tr>
<td>TIMESTAMP</td>
<td>int</td>
<td>Unix timestamp of the trade.</td>
</tr>
<tr>
<td>PRICE</td>
<td>float</td>
<td>Price at which the trade was executed</td>
</tr>
<tr>
<td>AMOUNT</td>
<td>float</td>
<td>How much was bought (positive) or sold (negative). The order that causes the trade determines if it is a buy or a sell.</td>
</tr>
</tbody></table>

<h3 id="ticker">Ticker</h3>

<p>The ticker is a high level overview of the state of the market.
It shows you the current best bid and ask, as well as the last trade
price. It also includes information such as daily volume and how
much the price has moved over the last day.</p>

<blockquote>
<p><strong>Example</strong></p>
</blockquote>
<pre class="highlight javascript"><code><span class="nx">w</span><span class="p">.</span><span class="nx">send</span><span class="p">(</span><span class="nx">JSON</span><span class="p">.</span><span class="nx">stringify</span><span class="p">({</span> <span class="s2">"Event"</span><span class="p">:</span> <span class="s2">"subscribe"</span><span class="p">,</span> <span class="na">Channel</span><span class="p">:</span> <span class="s2">"ticker"</span><span class="p">,</span> <span class="na">Pair</span><span class="p">:</span> <span class="s2">"BTCUSD"</span> <span class="p">}))</span>
</code></pre>

<blockquote>
<p><strong>Request</strong></p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"Event"</span><span class="p">:</span><span class="w"> </span><span class="s2">"subscribe"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"Channel"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ticker"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"Pair"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTCUSD"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<blockquote>
<p><strong>Response</strong></p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"Event"</span><span class="p">:</span><span class="w"> </span><span class="s2">"subscribed"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"Channel"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ticker"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"ChanId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;CHANNEL_ID&gt;"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<blockquote>
<p><strong>Snapshot</strong></p>
</blockquote>
<pre class="highlight json"><code><span class="p">[</span><span class="s2">"&lt;CHANNEL_ID&gt;"</span><span class="p">,</span><span class="w"> </span><span class="s2">"&lt;BID&gt;"</span><span class="p">,</span><span class="w"> </span><span class="s2">"&lt;BID_SIZE&gt;"</span><span class="p">,</span><span class="w"> </span><span class="s2">"&lt;ASK&gt;"</span><span class="p">,</span><span class="w"> </span><span class="s2">"&lt;ASK_SIZE&gt;"</span><span class="p">,</span><span class="w"> </span><span class="s2">"&lt;DAILY_CHANGE&gt;"</span><span class="p">,</span><span class="w"> </span><span class="s2">"&lt;DAILY_CHANGE_PERC&gt;"</span><span class="p">,</span><span class="w"> </span><span class="s2">"&lt;LAST_PRICE&gt;"</span><span class="p">,</span><span class="w"> </span><span class="s2">"&lt;VOLUME&gt;"</span><span class="p">]</span><span class="w">
</span></code></pre>

<blockquote>
<p><strong>Updates</strong></p>
</blockquote>
<pre class="highlight json"><code><span class="p">[</span><span class="s2">"&lt;CHANNEL_ID&gt;"</span><span class="p">,</span><span class="w"> </span><span class="s2">"&lt;BID&gt;"</span><span class="p">,</span><span class="w"> </span><span class="s2">"&lt;BID_SIZE&gt;"</span><span class="p">,</span><span class="w"> </span><span class="s2">"&lt;ASK&gt;"</span><span class="p">,</span><span class="w"> </span><span class="s2">"&lt;ASK_SIZE&gt;"</span><span class="p">,</span><span class="w"> </span><span class="s2">"&lt;DAILY_CHANGE&gt;"</span><span class="p">,</span><span class="w"> </span><span class="s2">"&lt;DAILY_CHANGE_PERC&gt;"</span><span class="p">,</span><span class="w"> </span><span class="s2">"&lt;LAST_PRICE&gt;"</span><span class="p">,</span><span class="w"> </span><span class="s2">"&lt;VOLUME&gt;"</span><span class="p">]</span><span class="w">
</span></code></pre>

<p><em>Here is an example of a real ticker</em></p>

<p><code class="prettyprint">[ 2, 236.62, 9.0029, 236.88, 7.1138, -1.02, 0, 236.52, 5191.36754297 ]</code></p>

<p><strong>Fields</strong></p>

<table><thead>
<tr>
<th>Fields</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>BID</td>
<td>float</td>
<td>Price of last highest bid</td>
</tr>
<tr>
<td>BID_SIZE</td>
<td>float</td>
<td>Size of the last highest bid</td>
</tr>
<tr>
<td>ASK</td>
<td>float</td>
<td>Price of last lowest ask</td>
</tr>
<tr>
<td>ASK_SIZE</td>
<td>float</td>
<td>Size of the last lowest ask</td>
</tr>
<tr>
<td>DAILY_CHANGE</td>
<td>float</td>
<td>Amount that the last price has changed since yesterday</td>
</tr>
<tr>
<td>DAILY_CHANGE_PERC</td>
<td>float</td>
<td>Amount that the price has changed expressed in percentage terms</td>
</tr>
<tr>
<td>LAST_PRICE</td>
<td>float</td>
<td>Price of the last trade.</td>
</tr>
<tr>
<td>VOLUME</td>
<td>float</td>
<td>Daily volume</td>
</tr>
</tbody></table>

<h2 id="authenticated-channels">Authenticated Channels</h2>

<hr>

<h3 id="account-info">Account Info</h3>

<p>This channel allows you to keep up to date with the status of
your account. You can receive updates on your positions,
your balances, your orders and your trades.</p>

<p>Account info always uses ChanId 0.</p>

<blockquote>
<p><strong>Example</strong></p>
</blockquote>
<pre class="highlight javascript"><code><span class="kd">var</span>
  <span class="nx">crypto</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'crypto'</span><span class="p">),</span>
  <span class="nx">api_key</span> <span class="o">=</span> <span class="s1">'API_KEY'</span><span class="p">,</span>
  <span class="nx">api_secret</span> <span class="o">=</span> <span class="s1">'API_SECRET'</span><span class="p">,</span>
  <span class="nx">payload</span> <span class="o">=</span> <span class="s1">'AUTH'</span> <span class="o">+</span> <span class="p">(</span><span class="k">new</span> <span class="nb">Date</span><span class="p">().</span><span class="nx">getTime</span><span class="p">()),</span>
  <span class="nx">signature</span> <span class="o">=</span> <span class="nx">crypto</span><span class="p">.</span><span class="nx">createHmac</span><span class="p">(</span><span class="s2">"sha384"</span><span class="p">,</span> <span class="nx">api_secret</span><span class="p">).</span><span class="nx">update</span><span class="p">(</span><span class="nx">payload</span><span class="p">).</span><span class="nx">digest</span><span class="p">(</span><span class="s1">'hex'</span><span class="p">);</span>
<span class="nx">w</span><span class="p">.</span><span class="nx">send</span><span class="p">(</span><span class="nx">JSON</span><span class="p">.</span><span class="nx">stringify</span><span class="p">({</span> <span class="na">Event</span><span class="p">:</span> <span class="s2">"auth"</span><span class="p">,</span> <span class="na">ApiKey</span><span class="p">:</span> <span class="nx">api_key</span><span class="p">,</span> <span class="na">AuthSig</span><span class="p">:</span> <span class="nx">signature</span><span class="p">,</span> <span class="na">AuthPayload</span><span class="p">:</span> <span class="nx">payload</span> <span class="p">}));</span>
</code></pre>

<blockquote>
<p><strong>Request</strong></p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"Event"</span><span class="p">:</span><span class="w"> </span><span class="s2">"auth"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"ApiKey"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;API_KEY&gt;"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"AuthSig"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;AUTH_SIGNATURE&gt;"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"AuthPayload"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;AUTH_PAYLOAD&gt;"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<blockquote>
<p><strong>Response - Success</strong></p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"Event"</span><span class="p">:</span><span class="w"> </span><span class="s2">"auth"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"Status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"OK"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"ChanId"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
  </span><span class="nt">"UserId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;USER_ID&gt;"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<blockquote>
<p><strong>Response - Failure</strong></p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
</span><span class="nt">"Event"</span><span class="p">:</span><span class="w"> </span><span class="s2">"auth"</span><span class="p">,</span><span class="w">
</span><span class="nt">"Status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"FAIL"</span><span class="p">,</span><span class="w">
</span><span class="nt">"ChanId"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
</span><span class="nt">"Code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;ERROR_CODE&gt;"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<blockquote>
<p><strong>Position Snapshot</strong></p>
</blockquote>
<pre class="highlight json"><code><span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="s2">"ps"</span><span class="p">,</span><span class="w"> </span><span class="p">[[</span><span class="s2">"&lt;POS_PAIR&gt;"</span><span class="p">,</span><span class="w"> </span><span class="s2">"&lt;POS_STATUS&gt;"</span><span class="p">,</span><span class="w"> </span><span class="s2">"&lt;POS_AMOUNT&gt;"</span><span class="p">,</span><span class="w"> </span><span class="s2">"&lt;POS_BASE_PRICE&gt;"</span><span class="p">,</span><span class="w"> </span><span class="s2">"&lt;POS_MARGIN_FUNDING&gt;"</span><span class="p">,</span><span class="w"> </span><span class="s2">"&lt;POS_MARGIN_FUNDING_TYPE&gt;"</span><span class="p">],</span><span class="w"> </span><span class="p">[</span><span class="s2">"..."</span><span class="p">]]]</span><span class="w">
</span></code></pre>

<p><strong>Fields</strong></p>

<table><thead>
<tr>
<th>Term</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>POS_PAIR</td>
<td>string</td>
<td>Pair (BTCUSD, LTCUSD, LTCBTC).</td>
</tr>
<tr>
<td>POS_STATUS</td>
<td>string</td>
<td>Status (ACTIVE, CLOSED).</td>
</tr>
<tr>
<td>POS_AMOUNT</td>
<td>float</td>
<td>Size of the position. Positive values means a long position, negative values means a short position.</td>
</tr>
<tr>
<td>POS_BASE_PRICE</td>
<td>float</td>
<td>The price at which you entered your position.</td>
</tr>
<tr>
<td>POS_MARGIN_FUNDING</td>
<td>float</td>
<td>The amount of funding being used for this position.</td>
</tr>
<tr>
<td>POS_MARGIN_FUNDING_TYPE</td>
<td>int</td>
<td>0 for term, 1 for daily.</td>
</tr>
</tbody></table>

<blockquote>
<p><strong>Wallet Snapshot</strong></p>
</blockquote>
<pre class="highlight json"><code><span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="s2">"ws"</span><span class="p">,</span><span class="w"> </span><span class="p">[[</span><span class="s2">"&lt;WLT_NAME&gt;"</span><span class="p">,</span><span class="w"> </span><span class="s2">"&lt;WLT_CURRENCY&gt;"</span><span class="p">,</span><span class="w"> </span><span class="s2">"&lt;WLT_BALANCE&gt;"</span><span class="p">,</span><span class="w"> </span><span class="s2">"&lt;WLT_INTEREST_UNSETTLED&gt;"</span><span class="p">]]]</span><span class="w">
</span></code></pre>

<p><strong>Fields</strong></p>

<table><thead>
<tr>
<th>Term</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>WLT_NAME</td>
<td>string</td>
<td>Wallet name (exchange, trading, deposit)</td>
</tr>
<tr>
<td>WLT_BALANCE</td>
<td>float</td>
<td>Wallet balance</td>
</tr>
<tr>
<td>WLT_INTEREST_UNSETTLED</td>
<td>float</td>
<td>Unsettled interest</td>
</tr>
</tbody></table>

<blockquote>
<p><strong>Order Snapshot</strong></p>
</blockquote>
<pre class="highlight json"><code><span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="s2">"os"</span><span class="p">,</span><span class="w"> </span><span class="p">[[</span><span class="s2">"&lt;ORD_ID&gt;"</span><span class="p">,</span><span class="w"> </span><span class="s2">"&lt;ORD_PAIR&gt;"</span><span class="p">,</span><span class="w"> </span><span class="s2">"&lt;ORD_AMOUNT&gt;"</span><span class="p">,</span><span class="w"> </span><span class="s2">"&lt;ORD_AMOUNT_ORIG&gt;"</span><span class="p">,</span><span class="w"> </span><span class="s2">"&lt;ORD_TYPE&gt;"</span><span class="p">,</span><span class="w"> </span><span class="s2">"&lt;ORD_STATUS&gt;"</span><span class="p">,</span><span class="w"> </span><span class="s2">"&lt;ORD_PRICE&gt;"</span><span class="p">,</span><span class="w"> </span><span class="s2">"&lt;ORD_PRICE_AVG&gt;"</span><span class="p">,</span><span class="w"> </span><span class="s2">"&lt;ORD_CREATED_AT&gt;"</span><span class="p">],</span><span class="w"> </span><span class="p">[</span><span class="s2">"..."</span><span class="p">]]]</span><span class="w">
</span></code></pre>

<p><strong>Fields</strong></p>

<table><thead>
<tr>
<th>Term</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>ORD_ID</td>
<td>int</td>
<td>order id</td>
</tr>
<tr>
<td>ORD_PAIR</td>
<td>string</td>
<td>Pair (BTCUSD, LTCUSD, LTCBTC)</td>
</tr>
<tr>
<td>ORD_AMOUNT</td>
<td>float</td>
<td>Positive means buy, negative means sell.</td>
</tr>
<tr>
<td>ORD_AMOUNT_ORIG</td>
<td>float</td>
<td>Original amount</td>
</tr>
<tr>
<td>ORD_TYPE</td>
<td>string</td>
<td>The type of the order (LIMIT, STOP, TRAILING STOP, &hellip;).</td>
</tr>
<tr>
<td>ORD_STATUS</td>
<td>string</td>
<td>Status (ACTIVE, EXECUTED, PARTIALLY FILLED, &hellip;)</td>
</tr>
<tr>
<td>ORD_PRICE</td>
<td>float</td>
<td>Price</td>
</tr>
<tr>
<td>ORD_PRICE_AVG</td>
<td>float</td>
<td>Average price</td>
</tr>
<tr>
<td>ORD_CREATED_AT</td>
<td>string</td>
<td>Creation date/time</td>
</tr>
</tbody></table>

<blockquote>
<p><strong>Updates (position)</strong></p>
</blockquote>
<pre class="highlight json"><code><span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="s2">"&lt;pn|pu|pc&gt;"</span><span class="p">,</span><span class="w"> </span><span class="p">[</span><span class="s2">"&lt;POS_PAIR&gt;"</span><span class="p">,</span><span class="w"> </span><span class="s2">"&lt;POS_STATUS&gt;"</span><span class="p">,</span><span class="w"> </span><span class="s2">"&lt;POS_AMOUNT&gt;"</span><span class="p">,</span><span class="w"> </span><span class="s2">"&lt;POS_BASE_PRICE&gt;"</span><span class="p">,</span><span class="w"> </span><span class="s2">"&lt;POS_MARGIN_FUNDING&gt;"</span><span class="p">,</span><span class="w"> </span><span class="s2">"&lt;POS_MARGIN_FUNDING_TYPE&gt;"</span><span class="p">]]</span><span class="w">
</span></code></pre>

<blockquote>
<p><strong>Updates (wallet)</strong></p>
</blockquote>
<pre class="highlight json"><code><span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="s2">"wu"</span><span class="p">,</span><span class="w"> </span><span class="p">[</span><span class="s2">"&lt;WLT_NAME&gt;"</span><span class="p">,</span><span class="w"> </span><span class="s2">"&lt;WLT_CURRENCY&gt;"</span><span class="p">,</span><span class="w"> </span><span class="s2">"&lt;WLT_BALANCE&gt;"</span><span class="p">,</span><span class="w"> </span><span class="s2">"&lt;WLT_INTEREST_UNSETTLED&gt;"</span><span class="p">]]</span><span class="w">
</span></code></pre>

<blockquote>
<p><strong>Updates (order)</strong></p>
</blockquote>
<pre class="highlight json"><code><span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="s2">"&lt;on|ou|oc&gt;"</span><span class="p">,</span><span class="w"> </span><span class="p">[</span><span class="s2">"&lt;ORD_ID&gt;"</span><span class="p">,</span><span class="w"> </span><span class="s2">"&lt;ORD_PAIR&gt;"</span><span class="p">,</span><span class="w"> </span><span class="s2">"&lt;ORD_AMOUNT&gt;"</span><span class="p">,</span><span class="w"> </span><span class="s2">"&lt;ORD_AMOUNT_ORIG&gt;"</span><span class="p">,</span><span class="w"> </span><span class="s2">"&lt;ORD_TYPE&gt;"</span><span class="p">,</span><span class="w"> </span><span class="s2">"&lt;ORD_STATUS&gt;"</span><span class="p">,</span><span class="w"> </span><span class="s2">"&lt;ORD_PRICE&gt;"</span><span class="p">,</span><span class="w"> </span><span class="s2">"&lt;ORD_PRICE_AVG&gt;"</span><span class="p">,</span><span class="w"> </span><span class="s2">"&lt;ORD_CREATED_AT&gt;"</span><span class="p">,</span><span class="w"> </span><span class="s2">"&lt;ORD_NOTIFY&gt;"</span><span class="p">,</span><span class="w"> </span><span class="s2">"&lt;ORD_HIDDEN&gt;"</span><span class="p">]]</span><span class="w">
</span></code></pre>

<blockquote>
<p><strong>Updates (trade_executed)</strong></p>
</blockquote>
<pre class="highlight json"><code><span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="s2">"te"</span><span class="p">,</span><span class="w"> </span><span class="p">[</span><span class="s2">"&lt;ORD_ID&gt;"</span><span class="p">,</span><span class="w"> </span><span class="s2">"&lt;ORD_AMOUNT_EXECUTED&gt;"</span><span class="p">]]</span><span class="w">
</span></code></pre>

<aside class="notice">
<strong>AUTH request message: authenticate for the private data stream</strong>
<br>
-API_KEY: (string) Bitfinex&rsquo;s api key
<br>
-AUTH_SIGNATURE: (string) HMAC-sha384 signature
</aside>

<p><strong>Abbreviated Terms Glossary</strong></p>

<table><thead>
<tr>
<th>Term</th>
<th>Definition</th>
</tr>
</thead><tbody>
<tr>
<td>ps</td>
<td>position snapshot</td>
</tr>
<tr>
<td>pn</td>
<td>new position</td>
</tr>
<tr>
<td>pu</td>
<td>position update</td>
</tr>
<tr>
<td>pc</td>
<td>position close</td>
</tr>
<tr>
<td>ws</td>
<td>wallet snapshot</td>
</tr>
<tr>
<td>wu</td>
<td>wallet update</td>
</tr>
<tr>
<td>os</td>
<td>order snapshot</td>
</tr>
<tr>
<td>on</td>
<td>new order</td>
</tr>
<tr>
<td>ou</td>
<td>order update</td>
</tr>
<tr>
<td>oc</td>
<td>order cancel</td>
</tr>
<tr>
<td>te</td>
<td>trade executed</td>
</tr>
</tbody></table>

<aside class="warning">
<strong>error codes</strong>
<br>
10100 : Authentication failure (generic)
<br>
10101 : Already authenticated
<br>
10102 : Authentication Payload Error
<br>
10103 : Authentication Signature Error
<br>
10104 : Authentication HMAC Error
</aside>

<h3 id="unauthentication">Unauthentication</h3>

<blockquote>
<p><strong>Request</strong></p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
</span><span class="nt">"Event"</span><span class="p">:</span><span class="w"> </span><span class="s2">"unauth"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<blockquote>
<p><strong>Response - Success</strong></p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
</span><span class="nt">"Event"</span><span class="p">:</span><span class="w"> </span><span class="s2">"unauth"</span><span class="p">,</span><span class="w">
</span><span class="nt">"Status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"OK"</span><span class="p">,</span><span class="w">
</span><span class="nt">"ChanId"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<blockquote>
<p><strong>Response - Failure</strong></p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
</span><span class="nt">"Event"</span><span class="p">:</span><span class="w"> </span><span class="s2">"error"</span><span class="p">,</span><span class="w">
</span><span class="nt">"Status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"FAILED"</span><span class="p">,</span><span class="w">
</span><span class="nt">"ChanId"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
</span><span class="nt">"Code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;CODE&gt;"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<aside class="warning">
<strong>error codes</strong>
<br>
10201 : Not authenticated
</aside>

      </div>
      <div class="dark-box">
          <div class="lang-selector">
                <a href="#" data-language-name="javascript">javascript</a>
          </div>
      </div>
    </div>
  </body>
</html>
